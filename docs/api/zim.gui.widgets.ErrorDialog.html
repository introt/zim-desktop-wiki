<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>zim.gui.widgets.ErrorDialog</title>
    <meta name="generator" content="pydoctor 21.12.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            <a href="https://zim-wiki.org/" class="projecthome">zim-desktop-wiki</a> <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code><code><a href="zim.html">zim</a></code><wbr></wbr>.<code><a href="zim.gui.html">gui</a></code><wbr></wbr>.<code><a href="zim.gui.widgets.html">widgets</a></code><wbr></wbr>.<code><a href="zim.gui.widgets.ErrorDialog.html">ErrorDialog</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">ErrorDialog</span>(<span title="gi.repository.Gtk.MessageDialog">Gtk.MessageDialog</span>): <a href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3159" class="sourceLink">(source)</a></code></p><p>Known subclasses: <code><a href="zim.gui.pageview.SavePageErrorDialog.html">zim.gui.pageview.SavePageErrorDialog</a></code></p>
        <p><a href="classIndex.html#zim.gui.widgets.ErrorDialog">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div><p>The is the main class for error dialogs in zim. It not only presents the error to the user, but also takes care of logging it. So the error dialog can be used as a generic catch all for exceptions in the user interface. The way the error is shown depends on the class of the exception:</p>
<p>For exceptions that inherit from <code><a href="zim.errors.Error.html">zim.errors.Error</a></code> or <tt class="rst-docutils literal">EnvironmentError</tt> (e.g. <tt class="rst-docutils literal">OSError</tt> or <tt class="rst-docutils literal">IOError</tt>) a normal error dialog will be shown. This covers errors that can can occur in normal usage. As a special case the "filename" attribute of Environment errors is used and added to the error message.</p>
<p>On the other all exceptions that do not inherit from these classes (so all standard in exceptions like <tt class="rst-docutils literal">AssertionError</tt>, <tt class="rst-docutils literal">KeyError</tt> etc.) are considered the result of bugs and the dialog will say: "Looks like you found a bug" and show a stack trace.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Note</td></tr><tr><td colspan="2">in menu action handlers you typically do not need to catch exceptions with an error dialog. The standard menu wrapper takes care of that.</td></tr></table></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id539">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__">__init__</a></code></td>
    <td>Constructor</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#assert_response_ok">assert_response_ok</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#do_response_ok">do_response_ok</a></code></td>
    <td>Response handler for the 'OK' button @implementation: optional to be implemented by sub-classes that want to run some action after presenting the error.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#get_debug_text">get_debug_text</a></code></td>
    <td>Get the text to show in the log of a "You found a bug" dialog. Includes zim version info and traceback info.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#run">run</a></code></td>
    <td>Runs the dialog and destroys it directly.</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#do_logging">do_logging</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#error">error</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#showing_trace">showing_trace</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_run">_run</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  
  <a name="zim.gui.widgets.ErrorDialog.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span>(self, parent, error, exc_info=<a href="https://docs.python.org/3/library/constants.html#None">None</a>, do_logging=<a href="https://docs.python.org/3/library/constants.html#True">True</a>, buttons=Gtk.ButtonsType.CLOSE):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3182">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">overridden in <code><a href="zim.gui.pageview.SavePageErrorDialog.html">zim.gui.pageview.SavePageErrorDialog</a></code></div>
    
    <div>Constructor<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">parent</span></td><td class="fieldArgDesc">either a parent window or dialog or <tt class="rst-docutils literal">None</tt></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">error</span></td><td class="fieldArgDesc">the actual error, either an <tt class="rst-docutils literal">Exception</tt> object (including instances of <code><a href="zim.errors.Error.html">zim.errors.Error</a></code>), a string with the error description, or a 2-tuple of the short message and the longer description as strings. Using a tuple here will give a better looking dialog over using a simple string.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">exc_info</span></td><td class="fieldArgDesc">this is an optional argument that takes the result of <tt class="rst-docutils literal">sys.exc_info()</tt>. This parameter is not necessary in most cases where the dialog is run while the exception is still in scope. One reason to pass it on explicitly is the handling of errors from an async operation in the main tread.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">do_logging</span></td><td class="fieldArgDesc">if <tt class="rst-docutils literal">True</tt> also log the error, if <tt class="rst-docutils literal">False</tt> assume someone else already did</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">buttons</span></td><td class="fieldArgDesc"><p>a constant controlling what kind of buttons the dialog will have. One of:</p>
<ul class="rst-simple">
<li><tt class="rst-docutils literal">None</tt> or <tt class="rst-docutils literal">Gtk.ButtonsType.NONE</tt>: for dialogs taking care of constructing the buttons themselves</li>
<li><tt class="rst-docutils literal">Gtk.ButtonsType.OK_CANCEL</tt>: Render Ok and Cancel</li>
<li><tt class="rst-docutils literal">Gtk.ButtonsType.CLOSE</tt>: Only set a Close button</li>
</ul>
</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.gui.widgets.ErrorDialog.assert_response_ok">
    
  </a>
  <a name="assert_response_ok">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">assert_response_ok</span>(self):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3329">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.gui.widgets.ErrorDialog.do_response_ok">
    
  </a>
  <a name="do_response_ok">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">do_response_ok</span>(self):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3322">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">overridden in <code><a href="zim.gui.pageview.SavePageErrorDialog.html">zim.gui.pageview.SavePageErrorDialog</a></code></div>
    
    <div>Response handler for the 'OK' button<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Unknown Field: implementation</td></tr><tr><td colspan="2">optional to be implemented by sub-classes that want to run some action after presenting the error.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.gui.widgets.ErrorDialog.get_debug_text">
    
  </a>
  <a name="get_debug_text">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_debug_text</span>(self, exc_info=<a href="https://docs.python.org/3/library/constants.html#None">None</a>):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3261">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Get the text to show in the log of a "You found a bug" dialog. Includes zim version info and traceback info.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">exc_info</span></td><td class="fieldArgDesc">this is an optional argument that takes the result of <tt class="rst-docutils literal">sys.exc_info()</tt></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">debug log as string</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.gui.widgets.ErrorDialog.run">
    
  </a>
  <a name="run">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">run</span>(self):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3301">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">overridden in <code><a href="zim.gui.pageview.SavePageErrorDialog.html">zim.gui.pageview.SavePageErrorDialog</a></code></div>
    
    <div>Runs the dialog and destroys it directly.</div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="zim.gui.widgets.ErrorDialog.do_logging">
    
  </a>
  <a name="do_logging">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">do_logging</span> =
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3220">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="zim.gui.widgets.ErrorDialog.error">
    
  </a>
  <a name="error">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">error</span> =
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3219">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overridden in <code><a href="zim.gui.pageview.SavePageErrorDialog.html">zim.gui.pageview.SavePageErrorDialog</a></code></div>
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="zim.gui.widgets.ErrorDialog.showing_trace">
    
  </a>
  <a name="showing_trace">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">showing_trace</span>: <code><a href="https://docs.python.org/3/library/functions.html#bool">bool</a></code> =
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3238">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basemethod private">
  
  
  <a name="zim.gui.widgets.ErrorDialog._run">
    
  </a>
  <a name="_run">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_run</span>(self):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3313">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for <a href="https://zim-wiki.org/" class="projecthome">zim-desktop-wiki</a>,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    21.12.0 at 2022-01-07 17:18:19.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>