<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>zim.gui.widgets.ErrorDialog : API documentation</title>

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header navbar-brand">
          <a href="https://zim-wiki.org/">zim-desktop-wiki</a>
          <a href="index.html">API Documentation</a>
        </div>
      </div>
    </nav>

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code><code><a href="zim.html">zim</a></code>.<code><a href="zim.gui.html">gui</a></code>.<code><a href="zim.gui.widgets.html">widgets</a></code>.<code><a href="zim.gui.widgets.ErrorDialog.html">ErrorDialog</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">ErrorDialog</span>(<span title="gi.repository.Gtk.MessageDialog">Gtk.MessageDialog</span>): <a href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3174">(source)</a></code></p><p>Known subclasses: <code><a href="zim.gui.pageview.SavePageErrorDialog.html">zim.gui.pageview.SavePageErrorDialog</a></code></p>
        <p><a href="classIndex.html#zim.gui.widgets.ErrorDialog">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div><p>The is the main class for error dialogs in zim. It not only presents the error to the user, but also takes care of logging it. So the error dialog can be used as a generic catch all for exceptions in the user interface. The way the error is shown depends on the class of the exception:</p><p>For exceptions that inherit from <code><a href="zim.errors.Error.html">zim.errors.Error</a></code> or <code>EnvironmentError</code> (e.g. <code>OSError</code> or <code>IOError</code>) a normal error dialog will be shown. This covers errors that can can occur in normal usage. As a special case the "filename" attribute of Environment errors is used and added to the error message.</p><p>On the other all exceptions that do not inherit from these classes (so all standard in exceptions like <code>AssertionError</code>, <code>KeyError</code> etc.) are considered the result of bugs and the dialog will say: "Looks like you found a bug" and show a stack trace.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Note</td><td colspan="2">in menu action handlers you typically do not need to catch exceptions with an error dialog. The standard menu wrapper takes care of that.</td></tr></table></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id531">
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__">__init__</a></code></td>
    <td><span>Constructor</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#error">error</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#do_logging">do_logging</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#showing_trace">showing_trace</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#get_debug_text">get_debug_text</a></code></td>
    <td><span>Get the text to show in the log of a "You found a bug" dialog. Includes zim version info and traceback info.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#run">run</a></code></td>
    <td><span>Runs the dialog and destroys it directly.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#do_response_ok">do_response_ok</a></code></td>
    <td><span>Response handler for the 'OK' button @implementation: optional to be implemented by sub-classes that want to run some action after presenting the error.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#assert_response_ok">assert_response_ok</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_run">_run</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  <a name="zim.gui.widgets.ErrorDialog.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span>(self, parent, error, exc_info=None, do_logging=True, buttons=Gtk.ButtonsType.CLOSE):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3197">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">overridden in <code><a href="zim.gui.pageview.SavePageErrorDialog.html">zim.gui.pageview.SavePageErrorDialog</a></code></div>
    
    <div><p>Constructor</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">parent</td><td>either a parent window or dialog or <code>None</code></td></tr><tr><td></td><td class="fieldArg">error</td><td>the actual error, either an <code>Exception</code> object (including instances of <code><a href="zim.errors.Error.html">zim.errors.Error</a></code>), a string with the error description, or a 2-tuple of the short message and the longer description as strings. Using a tuple here will give a better looking dialog over using a simple string.</td></tr><tr><td></td><td class="fieldArg">exc_info</td><td>this is an optional argument that takes the result of <code>sys.exc_info()</code>. This parameter is not necessary in most cases where the dialog is run while the exception is still in scope. One reason to pass it on explicitly is the handling of errors from an async operation in the main tread.</td></tr><tr><td></td><td class="fieldArg">do_logging</td><td>if <code>True</code> also log the error, if <code>False</code> assume someone else already did</td></tr><tr><td></td><td class="fieldArg">buttons</td><td>a constant controlling what kind of buttons the dialog will have. One of:<ul><li><code>None</code> or <code>Gtk.ButtonsType.NONE</code>: for dialogs taking care of constructing the buttons themselves</li><li><code>Gtk.ButtonsType.OK_CANCEL</code>: Render Ok and Cancel</li><li><code>Gtk.ButtonsType.CLOSE</code>: Only set a Close button</li></ul></td></tr></table></div>
  </div>
</div><div class="baseinstancevariable">
  
  <a name="zim.gui.widgets.ErrorDialog.error">
    
  </a>
  <a name="error">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">error</span> =
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3234">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overridden in <code><a href="zim.gui.pageview.SavePageErrorDialog.html">zim.gui.pageview.SavePageErrorDialog</a></code></div>
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseinstancevariable">
  
  <a name="zim.gui.widgets.ErrorDialog.do_logging">
    
  </a>
  <a name="do_logging">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">do_logging</span> =
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3235">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseinstancevariable">
  
  <a name="zim.gui.widgets.ErrorDialog.showing_trace">
    
  </a>
  <a name="showing_trace">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">showing_trace</span> =
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3253">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div> (type: <code><a href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>)
  </div>
</div><div class="basemethod">
  
  <a name="zim.gui.widgets.ErrorDialog.get_debug_text">
    
  </a>
  <a name="get_debug_text">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_debug_text</span>(self, exc_info=None):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3276">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Get the text to show in the log of a "You found a bug" dialog. Includes zim version info and traceback info.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">exc_info</td><td>this is an optional argument that takes the result of <code>sys.exc_info()</code></td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">debug log as string</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="zim.gui.widgets.ErrorDialog.run">
    
  </a>
  <a name="run">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">run</span>(self):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3316">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">overridden in <code><a href="zim.gui.pageview.SavePageErrorDialog.html">zim.gui.pageview.SavePageErrorDialog</a></code></div>
    
    <div><p>Runs the dialog and destroys it directly.</p></div>
  </div>
</div><div class="basemethod private">
  
  <a name="zim.gui.widgets.ErrorDialog._run">
    
  </a>
  <a name="_run">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_run</span>(self):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3328">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  <a name="zim.gui.widgets.ErrorDialog.do_response_ok">
    
  </a>
  <a name="do_response_ok">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">do_response_ok</span>(self):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3337">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">overridden in <code><a href="zim.gui.pageview.SavePageErrorDialog.html">zim.gui.pageview.SavePageErrorDialog</a></code></div>
    
    <div><p>Response handler for the 'OK' button</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Unknown Field: implementation</td><td colspan="2">optional to be implemented by sub-classes that want to run some action after presenting the error.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="zim.gui.widgets.ErrorDialog.assert_response_ok">
    
  </a>
  <a name="assert_response_ok">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">assert_response_ok</span>(self):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/widgets.py#L3344">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div>

      </div>
      <address>
        <a href="index.html">API Documentation</a> for <a href="https://zim-wiki.org/">zim-desktop-wiki</a>, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> 21.2.2 at 2021-06-11 17:13:43.
      </address>

    </div>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>