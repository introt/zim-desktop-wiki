<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>zim.config.dicts.INIConfigFile</title>
    <meta name="generator" content="pydoctor 21.12.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            <a href="https://zim-wiki.org/" class="projecthome">zim-desktop-wiki</a> <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code><code><a href="zim.html">zim</a></code><wbr></wbr>.<code><a href="zim.config.html">config</a></code><wbr></wbr>.<code><a href="zim.config.dicts.html">dicts</a></code><wbr></wbr>.<code><a href="zim.config.dicts.INIConfigFile.html">INIConfigFile</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">INIConfigFile</span>(<a href="zim.config.dicts.SectionedConfigDict.html" title="zim.config.dicts.SectionedConfigDict">SectionedConfigDict</a>): <a href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/config/dicts.py#L690" class="sourceLink">(source)</a></code></p><p>Known subclasses: <code><a href="zim.config.manager.ConfigManagerINIConfigFile.html">zim.config.manager.ConfigManagerINIConfigFile</a></code></p>
        <p><a href="classIndex.html#zim.config.dicts.INIConfigFile">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div><p>Dict to represent a configuration file in "ini-style". Since the ini-file is divided in section this is represented as a dict of dicts. This class represents the top-level with a key for each section. The values are in turn <code><a href="zim.config.dicts.ConfigDict.html">ConfigDict</a></code>s which contain the key value pairs in that section.</p>
<p>A typical file might look like:</p>
<pre class="rst-literal-block">
  [Section1]
  param1=foo
  param2=bar

  [Section2]
  enabled=True
  data={'foo': 1, 'bar': 2}
</pre>
<p>(The values are parsed by the <code><a href="zim.config.dicts.ConfigDefinition.html">ConfigDefinition</a></code> for each key)</p>
<p>By default when parsing sections of the same name they will be merged and values that appear under the same section name later in the file will overwrite values that appeared earlier. As a special case we can support sections that repeat under the same section name. To do this assign the section name a list before parsing.</p>
<p>Sections and parameters whose name start with '_' are considered as private and are not stored when the config is written to file. This can be used for caching values that should not be persistent across instances.</p>
</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id63">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__">__init__</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#dump">dump</a></code></td>
    <td>Serialize the config to a "ini-style" config file. @returns: a list of lines with text in "ini-style" formatting</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#on_file_changed">on_file_changed</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#parse">parse</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#read">read</a></code></td>
    <td>Read data from file</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#write">write</a></code></td>
    <td>Write data and set <tt class="rst-docutils literal">modified</tt> to <tt class="rst-docutils literal">False</tt></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#file">file</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        
          <p class="inheritedFrom">
            Inherited from <code><a href="zim.config.dicts.SectionedConfigDict.html">SectionedConfigDict</a></code>:
          </p>
          <table class="children sortable" id="id64">
  
  
  <tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.config.dicts.SectionedConfigDict.html#__getitem__">__getitem__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.config.dicts.SectionedConfigDict.html#__setitem__">__setitem__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
          
          <p class="inheritedFrom">
            Inherited from <code><a href="zim.config.dicts.ControlledDict.html">ControlledDict</a></code> (via <code><a href="zim.config.dicts.SectionedConfigDict.html">SectionedConfigDict</a></code>):
          </p>
          <table class="children sortable" id="id65">
  
  
  <tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.config.dicts.ControlledDict.html#__delitem__">__delitem__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.config.dicts.ControlledDict.html#changed">changed</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.config.dicts.ControlledDict.html#do_changed">do_changed</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.config.dicts.ControlledDict.html#on_child_changed">on_child_changed</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.config.dicts.ControlledDict.html#set_modified">set_modified</a></code></td>
    <td>Set the modified state. Used to reset modified to <tt class="rst-docutils literal">False</tt> after the configuration has been saved to file. @param modified: <tt class="rst-docutils literal">True</tt> or <tt class="rst-docutils literal">False</tt></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.config.dicts.ControlledDict.html#update">update</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="baseclassvariable">
    
    <td>Class Variable</td>
    <td><code><a href="zim.config.dicts.ControlledDict.html#__signals__">__signals__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="baseproperty">
    
    <td>Property</td>
    <td><code><a href="zim.config.dicts.ControlledDict.html#modified">modified</a></code></td>
    <td><tt class="rst-docutils literal">True</tt> when the values were modified, used to e.g. track when a config needs to be written back to file</td>
  </tr><tr class="baseinstancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="zim.config.dicts.ControlledDict.html#_modified">_modified</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
          
          <p class="inheritedFrom">
            Inherited from <code><a href="zim.signals.SignalEmitter.html">SignalEmitter</a></code> (via <code><a href="zim.config.dicts.SectionedConfigDict.html">SectionedConfigDict</a></code>, <code><a href="zim.config.dicts.ControlledDict.html">ControlledDict</a></code>):
          </p>
          <table class="children sortable" id="id66">
  
  
  <tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.signals.SignalEmitter.html#__new__">__new__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.signals.SignalEmitter.html#block_signals">block_signals</a></code></td>
    <td>Returns a context manager for blocking one or more signals</td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.signals.SignalEmitter.html#connect">connect</a></code></td>
    <td>Register a handler for a specific object.</td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.signals.SignalEmitter.html#connect_after">connect_after</a></code></td>
    <td>Like <code><a href="#connect">connect()</a></code> but handler will be called after default handler</td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.signals.SignalEmitter.html#disconnect">disconnect</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.signals.SignalEmitter.html#emit">emit</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.signals.SignalEmitter.html#emit_return_first">emit_return_first</a></code></td>
    <td>Emits a signal and stops emission on the first handler that returns a not-None value.</td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.signals.SignalEmitter.html#emit_return_iter">emit_return_iter</a></code></td>
    <td>Returns an generator that calls one handler on each iteration and yields the return values. This allows aggregating return values.</td>
  </tr><tr class="basemethod private">
    
    <td>Method</td>
    <td><code><a href="zim.signals.SignalEmitter.html#_connect">_connect</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod private">
    
    <td>Method</td>
    <td><code><a href="zim.signals.SignalEmitter.html#_setup_signal">_setup_signal</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod private">
    
    <td>Method</td>
    <td><code><a href="zim.signals.SignalEmitter.html#_teardown_signal">_teardown_signal</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
          
          <p class="inheritedFrom">
            Inherited from <code><a href="zim.signals.ConnectorMixin.html">ConnectorMixin</a></code> (via <code><a href="zim.config.dicts.SectionedConfigDict.html">SectionedConfigDict</a></code>, <code><a href="zim.config.dicts.ControlledDict.html">ControlledDict</a></code>):
          </p>
          <table class="children sortable" id="id67">
  
  
  <tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.signals.ConnectorMixin.html#connectto">connectto</a></code></td>
    <td>Connect to signals of another object E.g.:</td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.signals.ConnectorMixin.html#connectto_all">connectto_all</a></code></td>
    <td>Convenience method to combine multiple calls to <code><a href="#connectto">connectto()</a></code>.</td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.signals.ConnectorMixin.html#disconnect_all">disconnect_all</a></code></td>
    <td>Disconnect all signals that have been connected with <code><a href="#connectto">connectto</a></code> and friends. Typically called when you want to destroy this object.</td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="zim.signals.ConnectorMixin.html#disconnect_from">disconnect_from</a></code></td>
    <td>Disc all signals that have been connected with <code><a href="#connectto">connectto</a></code> and friends to a specific object.</td>
  </tr><tr class="basemethod private">
    
    <td>Method</td>
    <td><code><a href="zim.signals.ConnectorMixin.html#_disconnect_from">_disconnect_from</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="baseinstancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="zim.signals.ConnectorMixin.html#_connected_signals">_connected_signals</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
          

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  
  <a name="zim.config.dicts.INIConfigFile.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span>(self, file, monitor=<a href="https://docs.python.org/3/library/constants.html#False">False</a>):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/config/dicts.py#L725">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">overrides <code><a href="zim.config.dicts.ControlledDict.html#__init__">zim.config.dicts.ControlledDict.__init__</a></code></div><div class="interfaceinfo">overridden in <code><a href="zim.config.manager.ConfigManagerINIConfigFile.html">zim.config.manager.ConfigManagerINIConfigFile</a></code></div>
    
    <div>Constructor<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">file</span></td><td class="fieldArgDesc">a <code><a href="zim.fs.File.html">File</a></code> or <code><a href="zim.config.manager.ConfigFile.html">ConfigFile</a></code> object for reading and writing the config.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">monitor</span></td><td class="fieldArgDesc">if <tt class="rst-docutils literal">True</tt> will listen to the <tt class="rst-docutils literal">changed</tt> signal of the file object and update the dict accordingly. Leave <tt class="rst-docutils literal">False</tt> for objects with a short life span.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.config.dicts.INIConfigFile.dump">
    
  </a>
  <a name="dump">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">dump</span>(self):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/config/dicts.py#L810">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Serialize the config to a "ini-style" config file.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">a list of lines with text in "ini-style" formatting</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.config.dicts.INIConfigFile.on_file_changed">
    
  </a>
  <a name="on_file_changed">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">on_file_changed</span>(self, *a):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/config/dicts.py#L745">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">overridden in <code><a href="zim.config.manager.ConfigManagerINIConfigFile.html">zim.config.manager.ConfigManagerINIConfigFile</a></code></div>
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.config.dicts.INIConfigFile.parse">
    
  </a>
  <a name="parse">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">parse</span>(self, text):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/config/dicts.py#L767">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Parse an "ini-style" configuration. Fills the dictionary with values from this text, wil merge with existing sections and overwrite existing values.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">text</span></td><td class="fieldArgDesc">a string or a list of lines</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.config.dicts.INIConfigFile.read">
    
  </a>
  <a name="read">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">read</span>(self):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/config/dicts.py#L760">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Read data from file</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.config.dicts.INIConfigFile.write">
    
  </a>
  <a name="write">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">write</span>(self):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/config/dicts.py#L805">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Write data and set <tt class="rst-docutils literal">modified</tt> to <tt class="rst-docutils literal">False</tt></div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="zim.config.dicts.INIConfigFile.file">
    
  </a>
  <a name="file">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">file</span> =
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/config/dicts.py#L734">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for <a href="https://zim-wiki.org/" class="projecthome">zim-desktop-wiki</a>,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    21.12.0 at 2022-01-07 17:18:19.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>