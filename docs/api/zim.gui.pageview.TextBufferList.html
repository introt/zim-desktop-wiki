<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>zim.gui.pageview.TextBufferList : API documentation</title>

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header navbar-brand">
          <a href="https://zim-wiki.org/">zim-desktop-wiki</a>
          <a href="index.html">API Documentation</a>
        </div>
      </div>
    </nav>

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code><code><a href="zim.html">zim</a></code>.<code><a href="zim.gui.html">gui</a></code>.<code><a href="zim.gui.pageview.html">pageview</a></code>.<code><a href="zim.gui.pageview.TextBufferList.html">TextBufferList</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">TextBufferList</span>(<a href="https://docs.python.org/3/library/stdtypes.html#list" title="list">list</a>): <a href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3383">(source)</a></code></p>
        <p><a href="classIndex.html#zim.gui.pageview.TextBufferList">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div><p>This class represents a bullet or checkbox list in a <code><a href="zim.gui.pageview.TextBuffer.html">TextBuffer</a></code>. It is used to perform recursive actions on the list.</p><p>While the <code><a href="zim.gui.pageview.TextBuffer.html">TextBuffer</a></code> just treats list items as lines that start with a bullet, the TextBufferList maps to a number of lines that together form a list. It uses "row ids" to refer to specific items within this range.</p><p>TextBufferList objects will become invalid after any modification to the buffer that changes the line count within the list. Using them after such modification will result in errors.</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id351">
  
  <tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#LINE_COL">LINE_COL</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#INDENT_COL">INDENT_COL</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#BULLET_COL">BULLET_COL</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="classmethod">
    
    <td>Class Method</td>
    <td><code><a href="#new_from_line">new_from_line</a></code></td>
    <td><span>Constructor for a new TextBufferList mapping the list at a specific line in the buffer</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__">__init__</a></code></td>
    <td><span>Constructor</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#buffer">buffer</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#firstline">firstline</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#lastline">lastline</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#get_row_at_line">get_row_at_line</a></code></td>
    <td><span>Get the row in the list for a specific line</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#can_indent">can_indent</a></code></td>
    <td><span>Check whether a specific item in the list can be indented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#can_unindent">can_unindent</a></code></td>
    <td><span>Check if a specific item in the list has indenting which can be reduced</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#indent">indent</a></code></td>
    <td><span>Indent a list item and all it's children</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#unindent">unindent</a></code></td>
    <td><span>Un-indent a list item and it's children</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#set_bullet">set_bullet</a></code></td>
    <td><span>Set the bullet type for a specific item and update parents and children accordingly</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_indent">_indent</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_indent_row">_indent_row</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_checkbox_unchecked">_checkbox_unchecked</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_checkbox_checked">_checkbox_checked</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_change_bullet_type">_change_bullet_type</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_parents">_parents</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="baseclassvariable">
  
  <a name="zim.gui.pageview.TextBufferList.LINE_COL">
    
  </a>
  <a name="LINE_COL">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">LINE_COL</span> =
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3400">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div> (type: <code><a href="https://docs.python.org/3/library/functions.html#int">int</a></code>)
  </div>
</div><div class="baseclassvariable">
  
  <a name="zim.gui.pageview.TextBufferList.INDENT_COL">
    
  </a>
  <a name="INDENT_COL">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">INDENT_COL</span> =
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3401">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div> (type: <code><a href="https://docs.python.org/3/library/functions.html#int">int</a></code>)
  </div>
</div><div class="baseclassvariable">
  
  <a name="zim.gui.pageview.TextBufferList.BULLET_COL">
    
  </a>
  <a name="BULLET_COL">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">BULLET_COL</span> =
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3402">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div> (type: <code><a href="https://docs.python.org/3/library/functions.html#int">int</a></code>)
  </div>
</div><div class="baseclassmethod">
  
  <a name="zim.gui.pageview.TextBufferList.new_from_line">
    
  </a>
  <a name="new_from_line">
    
  </a>
  <div class="functionHeader">
    @classmethod<br />
    <span class="py-keyword">def</span> <span class="py-defname">new_from_line</span>(self, textbuffer, line):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3404">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Constructor for a new TextBufferList mapping the list at a specific line in the buffer</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">textbuffer</td><td>a <code><a href="zim.gui.pageview.TextBuffer.html">TextBuffer</a></code> object</td></tr><tr><td></td><td class="fieldArg">line</td><td>a line number<p>This line should be part of a list, the TextBufferList object that is returned maps the full list, so it possibly extends above and below <code>line</code>.</p></td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">a 2-tuple of a row id and a the new TextBufferList object, or <code>(None, None)</code> if <code>line</code> is not part of a list. The row id points to <code>line</code> in the list.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="zim.gui.pageview.TextBufferList.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span>(self, textbuffer, firstline, lastline):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3446">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Constructor</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">textbuffer</td><td>a <code><a href="zim.gui.pageview.TextBuffer.html">TextBuffer</a></code> object</td></tr><tr><td></td><td class="fieldArg">firstline</td><td>the line number for the first line of the list</td></tr><tr><td></td><td class="fieldArg">lastline</td><td>the line number for the last line of the list</td></tr></table></div>
  </div>
</div><div class="baseinstancevariable">
  
  <a name="zim.gui.pageview.TextBufferList.buffer">
    
  </a>
  <a name="buffer">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">buffer</span> =
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3453">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseinstancevariable">
  
  <a name="zim.gui.pageview.TextBufferList.firstline">
    
  </a>
  <a name="firstline">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">firstline</span> =
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3454">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseinstancevariable">
  
  <a name="zim.gui.pageview.TextBufferList.lastline">
    
  </a>
  <a name="lastline">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">lastline</span> =
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3455">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  <a name="zim.gui.pageview.TextBufferList.get_row_at_line">
    
  </a>
  <a name="get_row_at_line">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_row_at_line</span>(self, line):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3462">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Get the row in the list for a specific line</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">line</td><td>the line number for a line in the <code><a href="zim.gui.pageview.TextBuffer.html">TextBuffer</a></code></td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">the row id for a row in the list or <code>None</code> when the line was outside of the list</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="zim.gui.pageview.TextBufferList.can_indent">
    
  </a>
  <a name="can_indent">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">can_indent</span>(self, row):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3475">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Check whether a specific item in the list can be indented</p><p>List items can only be indented if they are on top of the list or when there is some node above them to serve as new parent node. This avoids indenting two levels below the parent.</p><p>So e.g. in the case of:</p><pre class="literalblock">
  * item a
  * item b
</pre><p>then "item b" can indent and become a child of "item a". However after indenting once:</p><pre class="literalblock">
  * item a
      * item b
</pre><p>now "item b" can not be indented further because it is already one level below "item a".</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">row</td><td>the row id</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2"><code>True</code> when indenting is possible</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="zim.gui.pageview.TextBufferList.can_unindent">
    
  </a>
  <a name="can_unindent">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">can_unindent</span>(self, row):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3508">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Check if a specific item in the list has indenting which can be reduced</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">row</td><td>the row id</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2"><code>True</code> when the item has indenting</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="zim.gui.pageview.TextBufferList.indent">
    
  </a>
  <a name="indent">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">indent</span>(self, row):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3517">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Indent a list item and all it's children</p><p>For example, when indenting "item b" in this list:</p><pre class="literalblock">
  * item a
  * item b
      * item C
</pre><p>it will result in:</p><pre class="literalblock">
  * item a
      * item b
          * item C
</pre><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">row</td><td>the row id</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2"><code>True</code> if successfulll</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="zim.gui.pageview.TextBufferList.unindent">
    
  </a>
  <a name="unindent">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">unindent</span>(self, row):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3541">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Un-indent a list item and it's children</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">row</td><td>the row id</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2"><code>True</code> if successfulll</td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="zim.gui.pageview.TextBufferList._indent">
    
  </a>
  <a name="_indent">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_indent</span>(self, row, step):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3553">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod private">
  
  <a name="zim.gui.pageview.TextBufferList._indent_row">
    
  </a>
  <a name="_indent_row">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_indent_row</span>(self, row, step):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3579">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  <a name="zim.gui.pageview.TextBufferList.set_bullet">
    
  </a>
  <a name="set_bullet">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">set_bullet</span>(self, row, bullet):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3587">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Set the bullet type for a specific item and update parents and children accordingly</p><p>Used to (un-)check the checkboxes and synchronize child nodes and parent nodes. When a box is checked, any open child nodes are checked. Also when this is the last checkbox on the given level to be checked, the parent box can be checked as well. When a box is un-checked, also the parent checkbox is un-checked. Both updating of children and parents is recursive.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">row</td><td>the row id</td></tr><tr><td></td><td class="fieldArg">bullet</td><td>the bullet type, which can be one of:<pre class="literalblock">
        BULLET
        CHECKED_BOX
        UNCHECKED_BOX
        XCHECKED_BOX
        MIGRATED_BOX
</pre></td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="zim.gui.pageview.TextBufferList._checkbox_unchecked">
    
  </a>
  <a name="_checkbox_unchecked">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_checkbox_unchecked</span>(self, row):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3616">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod private">
  
  <a name="zim.gui.pageview.TextBufferList._checkbox_checked">
    
  </a>
  <a name="_checkbox_checked">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_checkbox_checked</span>(self, row, state):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3625">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod private">
  
  <a name="zim.gui.pageview.TextBufferList._change_bullet_type">
    
  </a>
  <a name="_change_bullet_type">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_change_bullet_type</span>(self, row, bullet):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3667">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod private">
  
  <a name="zim.gui.pageview.TextBufferList._parents">
    
  </a>
  <a name="_parents">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_parents</span>(self, row):
    <a class="functionSourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/gui/pageview/__init__.py#L3672">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div>

      </div>
      <address>
        <a href="index.html">API Documentation</a> for <a href="https://zim-wiki.org/">zim-desktop-wiki</a>, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> 21.2.2 at 2021-06-11 17:13:43.
      </address>

    </div>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>