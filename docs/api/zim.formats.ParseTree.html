<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>zim.formats.ParseTree</title>
    <meta name="generator" content="pydoctor 21.12.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            <a href="https://zim-wiki.org/" class="projecthome">zim-desktop-wiki</a> <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code><code><a href="zim.html">zim</a></code><wbr></wbr>.<code><a href="zim.formats.html">formats</a></code><wbr></wbr>.<code><a href="zim.formats.ParseTree.html">ParseTree</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">ParseTree</span>(<a href="https://docs.python.org/3/library/functions.html#object" title="object">object</a>): <a href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L287" class="sourceLink">(source)</a></code></p>
        <p><a href="classIndex.html#zim.formats.ParseTree">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div>Wrapper for zim parse trees.</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id176">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__">__init__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#cleanup_headings">cleanup_headings</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#copy">copy</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#count">count</a></code></td>
    <td>Returns the number of occurences of 'text' in this tree.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#countre">countre</a></code></td>
    <td>Returns the number of matches for a regular expression in this tree.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#decode_urls">decode_urls</a></code></td>
    <td>Calls decode_url() on all links that contain urls. See zim.parsing for details. Modifies the parse tree.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#encode_urls">encode_urls</a></code></td>
    <td>Calls encode_url() on all links that contain urls. See zim.parsing for details. Modifies the parse tree.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#extend">extend</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#find">find</a></code></td>
    <td>Find first occurence of <tt class="rst-docutils literal">tag</tt> in the tree @returns: a <code><a href="zim.formats.Node.html">Node</a></code> object or <tt class="rst-docutils literal">None</tt></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#findall">findall</a></code></td>
    <td>Find all occurences of <tt class="rst-docutils literal">tag</tt> in the tree @param tag: tag name @returns: yields <code><a href="zim.formats.Node.html">Node</a></code> objects</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#fromstring">fromstring</a></code></td>
    <td>Set the contents of this tree from XML representation.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#get_ends_with_newline">get_ends_with_newline</a></code></td>
    <td>Checks whether this tree ends in a newline or not</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#get_heading_level">get_heading_level</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#get_heading_text">get_heading_text</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#iter_href">iter_href</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#iter_tag_names">iter_tag_names</a></code></td>
    <td>Generator for tags in the page content @returns: yields an unordered list of tag names</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#iter_tokens">iter_tokens</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#remove_heading">remove_heading</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#replace">replace</a></code></td>
    <td>Modify the tree by replacing all occurences of <tt class="rst-docutils literal">tag</tt> by the return value of <tt class="rst-docutils literal">func</tt>.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#set_heading_text">set_heading_text</a></code></td>
    <td>Set the first heading of the parse tree to 'text'. If the tree already has a heading of the specified level or higher it will be replaced. Otherwise the new heading will be prepended.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#tostring">tostring</a></code></td>
    <td>Serialize the tree to a XML representation</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#visit">visit</a></code></td>
    <td>Visit all nodes of this tree</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#meta">meta</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="property">
    
    <td>Property</td>
    <td><code><a href="#hascontent">hascontent</a></code></td>
    <td>Returns True if the tree contains any content at all.</td>
  </tr><tr class="property">
    
    <td>Property</td>
    <td><code><a href="#israw">israw</a></code></td>
    <td>Returns True when this is a raw tree (which is representation of TextBuffer, but not really valid).</td>
  </tr><tr class="staticmethod private">
    
    <td>Static Method</td>
    <td><code><a href="#_node_to_etree">_node_to_etree</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_do_replace">_do_replace</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_elt_to_text">_elt_to_text</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_get_element_ends_with_newline">_get_element_ends_with_newline</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_get_heading_element">_get_heading_element</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_get_root_attrib">_get_root_attrib</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_insert_text">_insert_text</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_pop_root_attrib">_pop_root_attrib</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_replace">_replace</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_set_root_attrib">_set_root_attrib</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_visit">_visit</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_etree">_etree</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_object_cache">_object_cache</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span>(self, *arg, **kwarg):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L295">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.cleanup_headings">
    
  </a>
  <a name="cleanup_headings">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">cleanup_headings</span>(self, offset=0, max=6):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L496">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Change the heading levels throughout the tree. This makes sure that al headings are nested directly under their parent (no gaps in the levels of the headings). Also you can set an offset for the top level and a max depth.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.copy">
    
  </a>
  <a name="copy">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">copy</span>(self):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L368">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.count">
    
  </a>
  <a name="count">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">count</span>(self, text):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L539">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Returns the number of occurences of 'text' in this tree.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.countre">
    
  </a>
  <a name="countre">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">countre</span>(self, regex):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L550">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Returns the number of matches for a regular expression in this tree.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.decode_urls">
    
  </a>
  <a name="decode_urls">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">decode_urls</span>(self, mode=<a href="zim.parsing.html#URL_ENCODE_READABLE">URL_ENCODE_READABLE</a>):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L528">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Calls decode_url() on all links that contain urls. See zim.parsing for details. Modifies the parse tree.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.encode_urls">
    
  </a>
  <a name="encode_urls">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">encode_urls</span>(self, mode=<a href="zim.parsing.html#URL_ENCODE_READABLE">URL_ENCODE_READABLE</a>):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L517">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Calls encode_url() on all links that contain urls. See zim.parsing for details. Modifies the parse tree.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.extend">
    
  </a>
  <a name="extend">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">extend</span>(self, tree):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L324">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.find">
    
  </a>
  <a name="find">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">find</span>(self, tag):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L612">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Find first occurence of <tt class="rst-docutils literal">tag</tt> in the tree<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">a <code><a href="zim.formats.Node.html">Node</a></code> object or <tt class="rst-docutils literal">None</tt></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.findall">
    
  </a>
  <a name="findall">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">findall</span>(self, tag):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L621">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Find all occurences of <tt class="rst-docutils literal">tag</tt> in the tree<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">tag</span></td><td class="fieldArgDesc">tag name</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">yields <code><a href="zim.formats.Node.html">Node</a></code> objects</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.fromstring">
    
  </a>
  <a name="fromstring">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">fromstring</span>(self, string):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L343">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Set the contents of this tree from XML representation.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.get_ends_with_newline">
    
  </a>
  <a name="get_ends_with_newline">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_ends_with_newline</span>(self):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L565">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Checks whether this tree ends in a newline or not</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.get_heading_level">
    
  </a>
  <a name="get_heading_level">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_heading_level</span>(self):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L437">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.get_heading_text">
    
  </a>
  <a name="get_heading_text">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_heading_text</span>(self, level=1):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L451">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.iter_href">
    
  </a>
  <a name="iter_href">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">iter_href</span>(self, include_page_local_links=<a href="https://docs.python.org/3/library/constants.html#False">False</a>, include_anchors=<a href="https://docs.python.org/3/library/constants.html#False">False</a>):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L380">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Generator for links in the text<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">include_page_local_links</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">include_anchors</span></td><td class="fieldArgDesc">if <tt class="rst-docutils literal">False</tt> remove the target location from the link and only yield unique links to pages</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">yields a list of unique <code><a href="zim.notebook.page.HRef.html">HRef</a></code> objects</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.iter_tag_names">
    
  </a>
  <a name="iter_tag_names">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">iter_tag_names</span>(self):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L414">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Generator for tags in the page content<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">yields an unordered list of tag names</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.iter_tokens">
    
  </a>
  <a name="iter_tokens">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">iter_tokens</span>(self):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L373">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.remove_heading">
    
  </a>
  <a name="remove_heading">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">remove_heading</span>(self, level=-1):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L477">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>If the tree starts with a heading, remove it and any trailing whitespace. Will modify the tree.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">a 2-tuple of text and heading level or <tt class="rst-docutils literal">(None, None)</tt></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.replace">
    
  </a>
  <a name="replace">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">replace</span>(self, tags, func):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L629">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Modify the tree by replacing all occurences of <tt class="rst-docutils literal">tag</tt> by the return value of <tt class="rst-docutils literal">func</tt>.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">tags</span></td><td class="fieldArgDesc">tag name, or list of tag names</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">func</span></td><td class="fieldArgDesc"><p>function to generate replacement values. Function will be called as:</p>
<pre class="rst-literal-block">
        func(node)
</pre>
<p>Where <tt class="rst-docutils literal">node</tt> is a <code><a href="zim.formats.Node.html">Node</a></code> object representing the subtree. If the function returns another <code><a href="zim.formats.Node.html">Node</a></code> object or modifies <tt class="rst-docutils literal">node</tt> and returns it, the subtree will be replaced by this new node. If the function raises <code><a href="zim.formats.VisitorSkip.html">VisitorSkip</a></code> the replace is skipped. If the function raises <code><a href="zim.formats.VisitorStop.html">VisitorStop</a></code> the replacement of all nodes will stop.</p>
</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.set_heading_text">
    
  </a>
  <a name="set_heading_text">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">set_heading_text</span>(self, text, level=1):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L458">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Set the first heading of the parse tree to 'text'. If the tree already has a heading of the specified level or higher it will be replaced. Otherwise the new heading will be prepended.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.tostring">
    
  </a>
  <a name="tostring">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">tostring</span>(self):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L351">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Serialize the tree to a XML representation</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="zim.formats.ParseTree.visit">
    
  </a>
  <a name="visit">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">visit</span>(self, visitor):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L583">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Visit all nodes of this tree<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">visitor</span></td><td class="fieldArgDesc">a <code><a href="zim.formats.Visitor.html">Visitor</a></code> or <code><a href="zim.parser.Builder.html">Builder</a></code> object</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Note</td></tr><tr><td colspan="2">If the visitor modifies the attrib dict on nodes, this will modify the tree.</td></tr></table></div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="zim.formats.ParseTree.meta">
    
  </a>
  <a name="meta">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">meta</span> =
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L298">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseproperty">
  
  
  <a name="zim.formats.ParseTree.hascontent">
    
  </a>
  <a name="hascontent">
    
  </a>
  <div class="functionHeader">
    @<a href="https://docs.python.org/3/library/functions.html#property">property</a><br />
    <span class="py-defname">hascontent</span> =
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L300">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div>Returns True if the tree contains any content at all.</div>
    
  </div>
</div><div class="baseproperty">
  
  
  <a name="zim.formats.ParseTree.israw">
    
  </a>
  <a name="israw">
    
  </a>
  <div class="functionHeader">
    @<a href="https://docs.python.org/3/library/functions.html#property">property</a><br />
    <span class="py-defname">israw</span> =
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L308">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div>Returns True when this is a raw tree (which is representation of TextBuffer, but not really valid).</div>
    
  </div>
</div><div class="basestaticmethod private">
  
  
  <a name="zim.formats.ParseTree._node_to_etree">
    
  </a>
  <a name="_node_to_etree">
    
  </a>
  <div class="functionHeader">
    @<a href="https://docs.python.org/3/library/functions.html#staticmethod">staticmethod</a><br />
    <span class="py-keyword">def</span> <span class="py-defname">_node_to_etree</span>(node):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L708">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="zim.formats.ParseTree._do_replace">
    
  </a>
  <a name="_do_replace">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_do_replace</span>(self, elt, replacements):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L674">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="zim.formats.ParseTree._elt_to_text">
    
  </a>
  <a name="_elt_to_text">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_elt_to_text</span>(self, elt):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L444">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="zim.formats.ParseTree._get_element_ends_with_newline">
    
  </a>
  <a name="_get_element_ends_with_newline">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_get_element_ends_with_newline</span>(self, element):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L569">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="zim.formats.ParseTree._get_heading_element">
    
  </a>
  <a name="_get_heading_element">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_get_heading_element</span>(self, level=1):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L425">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="zim.formats.ParseTree._get_root_attrib">
    
  </a>
  <a name="_get_root_attrib">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_get_root_attrib</span>(self, key, default=<a href="https://docs.python.org/3/library/constants.html#None">None</a>):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L318">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="zim.formats.ParseTree._insert_text">
    
  </a>
  <a name="_insert_text">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_insert_text</span>(self, elt, i, text):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L714">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="zim.formats.ParseTree._pop_root_attrib">
    
  </a>
  <a name="_pop_root_attrib">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_pop_root_attrib</span>(self, key, default=<a href="https://docs.python.org/3/library/constants.html#None">None</a>):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L321">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="zim.formats.ParseTree._replace">
    
  </a>
  <a name="_replace">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_replace</span>(self, elt, tags, func):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L654">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="zim.formats.ParseTree._set_root_attrib">
    
  </a>
  <a name="_set_root_attrib">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_set_root_attrib</span>(self, key, value):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L315">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="zim.formats.ParseTree._visit">
    
  </a>
  <a name="_visit">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_visit</span>(self, visitor, node):
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L596">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="zim.formats.ParseTree._etree">
    
  </a>
  <a name="_etree">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_etree</span> =
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L296">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="zim.formats.ParseTree._object_cache">
    
  </a>
  <a name="_object_cache">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_object_cache</span>: <code><a href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code> =
    <a class="sourceLink" href="https://github.com/zim-desktop-wiki/zim-desktop-wiki/tree/develop/zim/formats/__init__.py#L297">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for <a href="https://zim-wiki.org/" class="projecthome">zim-desktop-wiki</a>,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    21.12.0 at 2022-01-07 17:18:19.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>