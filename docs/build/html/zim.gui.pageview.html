
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>zim.gui.pageview package &#8212; Zim Desktop Wiki 0.74 develop documentation</title>
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="static/documentation_options.js"></script>
    <script src="static/jquery.js"></script>
    <script src="static/underscore.js"></script>
    <script src="static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="zim-gui-pageview-package">
<h1>zim.gui.pageview package<a class="headerlink" href="#zim-gui-pageview-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-zim.gui.pageview.editbar">
<span id="zim-gui-pageview-editbar-module"></span><h2>zim.gui.pageview.editbar module<a class="headerlink" href="#module-zim.gui.pageview.editbar" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="zim.gui.pageview.editbar.EditActionMixin">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.editbar.</code><code class="sig-name descname">EditActionMixin</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pageview</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.editbar.EditActionMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for EditBar and ToolBar implementations that want to include
formatting actions</p>
</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.editbar.EditBar">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.editbar.</code><code class="sig-name descname">EditBar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pageview</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.editbar.EditBar" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zim.gui.pageview.editbar.EditActionMixin" title="zim.gui.pageview.editbar.EditActionMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.pageview.editbar.EditActionMixin</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">gi.repository.Gtk.ActionBar</span></code></p>
<dl class="py method">
<dt id="zim.gui.pageview.editbar.EditBar.on_textview_textstyle_changed">
<code class="sig-name descname">on_textview_textstyle_changed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pageview</span></em>, <em class="sig-param"><span class="n">styles</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.editbar.EditBar.on_textview_textstyle_changed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.editbar.EditBar.on_textview_toggle_overwrite">
<code class="sig-name descname">on_textview_toggle_overwrite</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">textview</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.editbar.EditBar.on_textview_toggle_overwrite" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-zim.gui.pageview">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-zim.gui.pageview" title="Permalink to this headline">¶</a></h2>
<p>This module contains the main text editor widget.
It includes all classes needed to display and edit a single page as well
as related dialogs like the dialogs to insert images, links etc.</p>
<p>The main widget accessed by the rest of the application is the
<a class="reference internal" href="#zim.gui.pageview.PageView" title="zim.gui.pageview.PageView"><code class="xref py py-class docutils literal notranslate"><span class="pre">PageView</span></code></a> class. This wraps a <a class="reference internal" href="#zim.gui.pageview.TextView" title="zim.gui.pageview.TextView"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextView</span></code></a> widget which actually
shows the page. The <a class="reference internal" href="#zim.gui.pageview.TextBuffer" title="zim.gui.pageview.TextBuffer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextBuffer</span></code></a> class is the data model used by the
<a class="reference internal" href="#zim.gui.pageview.TextView" title="zim.gui.pageview.TextView"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextView</span></code></a>.</p>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>for documentation group functions in more logical order</p>
</div>
<dl class="py class">
<dt id="zim.gui.pageview.AsciiString">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">AsciiString</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">default</span></em>, <em class="sig-param"><span class="n">allow_empty</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.AsciiString" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zim.config.html#zim.config.dicts.String" title="zim.config.dicts.String"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.config.dicts.String</span></code></a></p>
<dl class="py attribute">
<dt id="zim.gui.pageview.AsciiString.allow_empty">
<code class="sig-name descname">allow_empty</code><a class="headerlink" href="#zim.gui.pageview.AsciiString.allow_empty" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.AsciiString.check">
<code class="sig-name descname">check</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.AsciiString.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check <code class="docutils literal notranslate"><span class="pre">value</span></code> to be a valid value for this key</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – if value is invalid and can not
be converted</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(converted) value if valid</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.AsciiString.default">
<code class="sig-name descname">default</code><a class="headerlink" href="#zim.gui.pageview.AsciiString.default" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.AttachFileDialog">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">AttachFileDialog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent</span></em>, <em class="sig-param"><span class="n">buffer</span></em>, <em class="sig-param"><span class="n">notebook</span></em>, <em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">file</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.AttachFileDialog" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zim.gui.html#zim.gui.widgets.FileDialog" title="zim.gui.widgets.FileDialog"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.widgets.FileDialog</span></code></a></p>
<dl class="py method">
<dt id="zim.gui.pageview.AttachFileDialog.do_response_ok">
<code class="sig-name descname">do_response_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.AttachFileDialog.do_response_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>Default response handler. Will check filechooser action and
whether or not we select multiple files or dirs and set result
of the dialog accordingly, so the method run() will return the
selected file(s) or folder(s).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.ConfigDefinitionConstant">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">ConfigDefinitionConstant</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">default</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">prefix</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.ConfigDefinitionConstant" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zim.config.html#zim.config.dicts.String" title="zim.config.dicts.String"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.config.dicts.String</span></code></a></p>
<dl class="py attribute">
<dt id="zim.gui.pageview.ConfigDefinitionConstant.allow_empty">
<code class="sig-name descname">allow_empty</code><a class="headerlink" href="#zim.gui.pageview.ConfigDefinitionConstant.allow_empty" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.ConfigDefinitionConstant.check">
<code class="sig-name descname">check</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.ConfigDefinitionConstant.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check <code class="docutils literal notranslate"><span class="pre">value</span></code> to be a valid value for this key</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – if value is invalid and can not
be converted</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(converted) value if valid</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.ConfigDefinitionConstant.default">
<code class="sig-name descname">default</code><a class="headerlink" href="#zim.gui.pageview.ConfigDefinitionConstant.default" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.ConfigDefinitionConstant.tostring">
<code class="sig-name descname">tostring</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.ConfigDefinitionConstant.tostring" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.EditImageDialog">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">EditImageDialog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent</span></em>, <em class="sig-param"><span class="n">buffer</span></em>, <em class="sig-param"><span class="n">notebook</span></em>, <em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.EditImageDialog" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zim.gui.html#zim.gui.widgets.Dialog" title="zim.gui.widgets.Dialog"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.widgets.Dialog</span></code></a></p>
<p>Dialog to edit properties of an embedded image</p>
<dl class="py method">
<dt id="zim.gui.pageview.EditImageDialog.do_file_changed">
<code class="sig-name descname">do_file_changed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.EditImageDialog.do_file_changed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.EditImageDialog.do_height_changed">
<code class="sig-name descname">do_height_changed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.EditImageDialog.do_height_changed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.EditImageDialog.do_response_ok">
<code class="sig-name descname">do_response_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.EditImageDialog.do_response_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler called when the user clicks the “OK” button (or
an equivalent button)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if successfull and the dialog can close. Returns
<code class="docutils literal notranslate"><span class="pre">False</span></code> if e.g. input is not valid, this will keep the dialog open.</p>
</dd>
<dt class="field-even">Implementation</dt>
<dd class="field-even"><p>must be implemented by sub-classes that have
an “OK” button</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.EditImageDialog.do_width_changed">
<code class="sig-name descname">do_width_changed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.EditImageDialog.do_width_changed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.EditImageDialog.reset_dimensions">
<code class="sig-name descname">reset_dimensions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.EditImageDialog.reset_dimensions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py data">
<dt id="zim.gui.pageview.FIND_CASE_SENSITIVE">
<code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">FIND_CASE_SENSITIVE</code><em class="property"> = 1</em><a class="headerlink" href="#zim.gui.pageview.FIND_CASE_SENSITIVE" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant to find case sensitive</p>
</dd></dl>

<dl class="py data">
<dt id="zim.gui.pageview.FIND_REGEX">
<code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">FIND_REGEX</code><em class="property"> = 4</em><a class="headerlink" href="#zim.gui.pageview.FIND_REGEX" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant to find based on regexes</p>
</dd></dl>

<dl class="py data">
<dt id="zim.gui.pageview.FIND_WHOLE_WORD">
<code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">FIND_WHOLE_WORD</code><em class="property"> = 2</em><a class="headerlink" href="#zim.gui.pageview.FIND_WHOLE_WORD" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant to find whole words only</p>
</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.FindAndReplaceDialog">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">FindAndReplaceDialog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent</span></em>, <em class="sig-param"><span class="n">textview</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.FindAndReplaceDialog" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zim.gui.pageview.FindWidget" title="zim.gui.pageview.FindWidget"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.pageview.FindWidget</span></code></a>, <a class="reference internal" href="zim.gui.html#zim.gui.widgets.Dialog" title="zim.gui.widgets.Dialog"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.widgets.Dialog</span></code></a></p>
<p>Dialog for find and replace</p>
<dl class="py method">
<dt id="zim.gui.pageview.FindAndReplaceDialog.do_response">
<code class="sig-name descname">do_response</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.FindAndReplaceDialog.do_response" title="Permalink to this definition">¶</a></dt>
<dd><p>response(self, response_id:int)</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.FindAndReplaceDialog.replace">
<code class="sig-name descname">replace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.FindAndReplaceDialog.replace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.FindAndReplaceDialog.replace_all">
<code class="sig-name descname">replace_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.FindAndReplaceDialog.replace_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.FindAndReplaceDialog.set_input">
<code class="sig-name descname">set_input</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">inputs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.FindAndReplaceDialog.set_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Method used in test suite to set “interactive” inputs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fields</strong> – key value pairs of inputs to set</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>KeyError</strong> – if a key is not recognized</p></li>
<li><p><strong>ValueError</strong> – if the value is of the wrong type and cannot be
converted by the widget</p></li>
<li><p><strong>AssertionError</strong> – if a key is recognized, but the input is
not enabled for interactive input - e.g. widget insensitive or hidden</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.FindBar">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">FindBar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">textview</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.FindBar" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zim.gui.pageview.FindWidget" title="zim.gui.pageview.FindWidget"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.pageview.FindWidget</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">gi.repository.Gtk.ActionBar</span></code></p>
<p>Bar to be shown below the TextView for find functions</p>
<dl class="py method">
<dt id="zim.gui.pageview.FindBar.do_key_press_event">
<code class="sig-name descname">do_key_press_event</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.FindBar.do_key_press_event" title="Permalink to this definition">¶</a></dt>
<dd><p>key_press_event(self, event:Gdk.EventKey) -&gt; bool</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.FindBar.grab_focus">
<code class="sig-name descname">grab_focus</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.FindBar.grab_focus" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.FindBar.hide">
<code class="sig-name descname">hide</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.FindBar.hide" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.FindBar.on_find_entry_activate">
<code class="sig-name descname">on_find_entry_activate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.FindBar.on_find_entry_activate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.FindBar.show">
<code class="sig-name descname">show</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.FindBar.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.FindWidget">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">FindWidget</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">textview</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.FindWidget" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for <a class="reference internal" href="#zim.gui.pageview.FindBar" title="zim.gui.pageview.FindBar"><code class="xref py py-class docutils literal notranslate"><span class="pre">FindBar</span></code></a> and <a class="reference internal" href="#zim.gui.pageview.FindAndReplaceDialog" title="zim.gui.pageview.FindAndReplaceDialog"><code class="xref py py-class docutils literal notranslate"><span class="pre">FindAndReplaceDialog</span></code></a></p>
<dl class="py method">
<dt id="zim.gui.pageview.FindWidget.find">
<code class="sig-name descname">find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">string</span></em>, <em class="sig-param"><span class="n">flags</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">highlight</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.FindWidget.find" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.FindWidget.find_next">
<code class="sig-name descname">find_next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.FindWidget.find_next" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.FindWidget.find_previous">
<code class="sig-name descname">find_previous</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.FindWidget.find_previous" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.FindWidget.on_find_entry_activate">
<code class="sig-name descname">on_find_entry_activate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.FindWidget.on_find_entry_activate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.FindWidget.on_find_entry_changed">
<code class="sig-name descname">on_find_entry_changed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.FindWidget.on_find_entry_changed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.FindWidget.on_highlight_toggled">
<code class="sig-name descname">on_highlight_toggled</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.FindWidget.on_highlight_toggled" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.FindWidget.set_from_buffer">
<code class="sig-name descname">set_from_buffer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.FindWidget.set_from_buffer" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies settings from last find in the buffer. Uses the
selected text for find if there is a selection.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.InsertDateDialog">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">InsertDateDialog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent</span></em>, <em class="sig-param"><span class="n">buffer</span></em>, <em class="sig-param"><span class="n">notebook</span></em>, <em class="sig-param"><span class="n">page</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.InsertDateDialog" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zim.gui.html#zim.gui.widgets.Dialog" title="zim.gui.widgets.Dialog"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.widgets.Dialog</span></code></a></p>
<p>Dialog to insert a date-time in the page</p>
<dl class="py attribute">
<dt id="zim.gui.pageview.InsertDateDialog.DATE_COL">
<code class="sig-name descname">DATE_COL</code><em class="property"> = 1</em><a class="headerlink" href="#zim.gui.pageview.InsertDateDialog.DATE_COL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.InsertDateDialog.FORMAT_COL">
<code class="sig-name descname">FORMAT_COL</code><em class="property"> = 0</em><a class="headerlink" href="#zim.gui.pageview.InsertDateDialog.FORMAT_COL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.InsertDateDialog.do_response_ok">
<code class="sig-name descname">do_response_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.InsertDateDialog.do_response_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler called when the user clicks the “OK” button (or
an equivalent button)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if successfull and the dialog can close. Returns
<code class="docutils literal notranslate"><span class="pre">False</span></code> if e.g. input is not valid, this will keep the dialog open.</p>
</dd>
<dt class="field-even">Implementation</dt>
<dd class="field-even"><p>must be implemented by sub-classes that have
an “OK” button</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.InsertDateDialog.load_file">
<code class="sig-name descname">load_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.InsertDateDialog.load_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.InsertDateDialog.on_edit">
<code class="sig-name descname">on_edit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">button</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.InsertDateDialog.on_edit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.InsertDateDialog.save_uistate">
<code class="sig-name descname">save_uistate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.InsertDateDialog.save_uistate" title="Permalink to this definition">¶</a></dt>
<dd><p>Method when the dialog is about to exit or hide and wants to
save the uistate. Sub-classes implementing this method should
use it to set additional state parameter in <code class="docutils literal notranslate"><span class="pre">self.uistate</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Implementation</dt>
<dd class="field-odd"><p>can be implemented by sub-classes that have
some additional uistate to save</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.InsertDateDialog.set_date">
<code class="sig-name descname">set_date</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.InsertDateDialog.set_date" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.InsertImageDialog">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">InsertImageDialog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent</span></em>, <em class="sig-param"><span class="n">buffer</span></em>, <em class="sig-param"><span class="n">notebook</span></em>, <em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">file</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.InsertImageDialog" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zim.gui.html#zim.gui.widgets.FileDialog" title="zim.gui.widgets.FileDialog"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.widgets.FileDialog</span></code></a></p>
<p>Dialog to insert an image in the page</p>
<dl class="py method">
<dt id="zim.gui.pageview.InsertImageDialog.do_response_ok">
<code class="sig-name descname">do_response_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.InsertImageDialog.do_response_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>Default response handler. Will check filechooser action and
whether or not we select multiple files or dirs and set result
of the dialog accordingly, so the method run() will return the
selected file(s) or folder(s).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.InsertLinkDialog">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">InsertLinkDialog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent</span></em>, <em class="sig-param"><span class="n">pageview</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.InsertLinkDialog" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zim.gui.html#zim.gui.widgets.Dialog" title="zim.gui.widgets.Dialog"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.widgets.Dialog</span></code></a></p>
<p>Dialog to insert a new link in the page or edit properties of
an existing link</p>
<dl class="py method">
<dt id="zim.gui.pageview.InsertLinkDialog.do_response_ok">
<code class="sig-name descname">do_response_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.InsertLinkDialog.do_response_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler called when the user clicks the “OK” button (or
an equivalent button)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if successfull and the dialog can close. Returns
<code class="docutils literal notranslate"><span class="pre">False</span></code> if e.g. input is not valid, this will keep the dialog open.</p>
</dd>
<dt class="field-even">Implementation</dt>
<dd class="field-even"><p>must be implemented by sub-classes that have
an “OK” button</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.InsertLinkDialog.on_href_changed">
<code class="sig-name descname">on_href_changed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">o</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.InsertLinkDialog.on_href_changed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.InsertLinkDialog.on_text_changed">
<code class="sig-name descname">on_text_changed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">o</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.InsertLinkDialog.on_text_changed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.InsertTextFromFileDialog">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">InsertTextFromFileDialog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent</span></em>, <em class="sig-param"><span class="n">buffer</span></em>, <em class="sig-param"><span class="n">notebook</span></em>, <em class="sig-param"><span class="n">page</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.InsertTextFromFileDialog" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zim.gui.html#zim.gui.widgets.FileDialog" title="zim.gui.widgets.FileDialog"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.widgets.FileDialog</span></code></a></p>
<p>Dialog to insert text from an external file into the page</p>
<dl class="py method">
<dt id="zim.gui.pageview.InsertTextFromFileDialog.do_response_ok">
<code class="sig-name descname">do_response_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.InsertTextFromFileDialog.do_response_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>Default response handler. Will check filechooser action and
whether or not we select multiple files or dirs and set result
of the dialog accordingly, so the method run() will return the
selected file(s) or folder(s).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.InsertedObjectAnchor">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">InsertedObjectAnchor</code><a class="headerlink" href="#zim.gui.pageview.InsertedObjectAnchor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">gi.repository.Gtk.TextChildAnchor</span></code></p>
<dl class="py method">
<dt id="zim.gui.pageview.InsertedObjectAnchor.create_widget">
<code class="sig-name descname">create_widget</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.InsertedObjectAnchor.create_widget" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.InsertedObjectAnchor.dump">
<code class="sig-name descname">dump</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">builder</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.InsertedObjectAnchor.dump" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.InsertedObjectPageviewManager">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">InsertedObjectPageviewManager</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pageview</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.InsertedObjectPageviewManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>“Glue” object to manage “insert object” actions for the <a class="reference internal" href="#zim.gui.pageview.PageView" title="zim.gui.pageview.PageView"><code class="xref py py-class docutils literal notranslate"><span class="pre">PageView</span></code></a>
Creates an action object for each object type and inserts UI elements
for the action in the pageview.</p>
<dl class="py method">
<dt id="zim.gui.pageview.InsertedObjectPageviewManager.on_changed">
<code class="sig-name descname">on_changed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">o</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.InsertedObjectPageviewManager.on_changed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.LineSeparator">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">LineSeparator</code><a class="headerlink" href="#zim.gui.pageview.LineSeparator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zim.gui.html#zim.gui.insertedobjects.InsertedObjectWidget" title="zim.gui.insertedobjects.InsertedObjectWidget"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.insertedobjects.InsertedObjectWidget</span></code></a></p>
<p>Class to create a separation line.</p>
</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.LineSeparatorAnchor">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">LineSeparatorAnchor</code><a class="headerlink" href="#zim.gui.pageview.LineSeparatorAnchor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zim.gui.pageview.InsertedObjectAnchor" title="zim.gui.pageview.InsertedObjectAnchor"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.pageview.InsertedObjectAnchor</span></code></a></p>
<dl class="py method">
<dt id="zim.gui.pageview.LineSeparatorAnchor.create_widget">
<code class="sig-name descname">create_widget</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.LineSeparatorAnchor.create_widget" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.LineSeparatorAnchor.dump">
<code class="sig-name descname">dump</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">builder</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.LineSeparatorAnchor.dump" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py data">
<dt id="zim.gui.pageview.MAX_PAGES_UNDO_STACK">
<code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">MAX_PAGES_UNDO_STACK</code><em class="property"> = 10</em><a class="headerlink" href="#zim.gui.pageview.MAX_PAGES_UNDO_STACK" title="Permalink to this definition">¶</a></dt>
<dd><p>Keep this many pages in a queue to keep ref and thus undostack alive</p>
</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.MoveTextDialog">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">MoveTextDialog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pageview</span></em>, <em class="sig-param"><span class="n">notebook</span></em>, <em class="sig-param"><span class="n">page</span></em>, <em class="sig-param"><span class="n">buffer</span></em>, <em class="sig-param"><span class="n">navigation</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.MoveTextDialog" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zim.gui.html#zim.gui.widgets.Dialog" title="zim.gui.widgets.Dialog"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.widgets.Dialog</span></code></a></p>
<dl class="py method">
<dt id="zim.gui.pageview.MoveTextDialog.do_response_ok">
<code class="sig-name descname">do_response_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.MoveTextDialog.do_response_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler called when the user clicks the “OK” button (or
an equivalent button)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if successfull and the dialog can close. Returns
<code class="docutils literal notranslate"><span class="pre">False</span></code> if e.g. input is not valid, this will keep the dialog open.</p>
</dd>
<dt class="field-even">Implementation</dt>
<dd class="field-even"><p>must be implemented by sub-classes that have
an “OK” button</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.NewFileDialog">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">NewFileDialog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent</span></em>, <em class="sig-param"><span class="n">basename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.NewFileDialog" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zim.gui.html#zim.gui.widgets.Dialog" title="zim.gui.widgets.Dialog"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.widgets.Dialog</span></code></a></p>
<dl class="py method">
<dt id="zim.gui.pageview.NewFileDialog.do_response_ok">
<code class="sig-name descname">do_response_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.NewFileDialog.do_response_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler called when the user clicks the “OK” button (or
an equivalent button)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if successfull and the dialog can close. Returns
<code class="docutils literal notranslate"><span class="pre">False</span></code> if e.g. input is not valid, this will keep the dialog open.</p>
</dd>
<dt class="field-even">Implementation</dt>
<dd class="field-even"><p>must be implemented by sub-classes that have
an “OK” button</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.NewFileDialog.show_all">
<code class="sig-name descname">show_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.NewFileDialog.show_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.PageView">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">PageView</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">arg</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwarg</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zim.html#zim.signals.GSignalEmitterMixin" title="zim.signals.GSignalEmitterMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.signals.GSignalEmitterMixin</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">gi.repository.Gtk.VBox</span></code></p>
<p>Widget to display a single page, consists of a <a class="reference internal" href="#zim.gui.pageview.TextView" title="zim.gui.pageview.TextView"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextView</span></code></a> and
a <a class="reference internal" href="#zim.gui.pageview.FindBar" title="zim.gui.pageview.FindBar"><code class="xref py py-class docutils literal notranslate"><span class="pre">FindBar</span></code></a>. Also adds menu items and in general integrates
the TextView with the rest of the application.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text_style</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigSectionsDict</span></code> with style properties. Although this
is a class attribute loading the data from the config file is
delayed till the first object is constructed</p></li>
<li><p><a class="reference internal" href="zim.notebook.html#module-zim.notebook.page" title="zim.notebook.page"><strong>page</strong></a> – <code class="xref py py-class docutils literal notranslate"><span class="pre">Page</span></code> object for the current page displayed in the widget</p></li>
<li><p><a class="reference internal" href="zim.notebook.html#zim.notebook.page.Page.readonly" title="zim.notebook.page.Page.readonly"><strong>readonly</strong></a> – <code class="docutils literal notranslate"><span class="pre">True</span></code> when the widget is read-only, see
<a class="reference internal" href="#zim.gui.pageview.PageView.set_readonly" title="zim.gui.pageview.PageView.set_readonly"><code class="xref py py-class docutils literal notranslate"><span class="pre">set_readonly()</span></code></a> for details</p></li>
<li><p><strong>view</strong> – the <a class="reference internal" href="#zim.gui.pageview.TextView" title="zim.gui.pageview.TextView"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextView</span></code></a> child object</p></li>
<li><p><strong>find_bar</strong> – the <a class="reference internal" href="#zim.gui.pageview.FindBar" title="zim.gui.pageview.FindBar"><code class="xref py py-class docutils literal notranslate"><span class="pre">FindBar</span></code></a> child widget</p></li>
<li><p><a class="reference internal" href="zim.config.html#zim.config.manager.ConfigManagerClass.preferences" title="zim.config.manager.ConfigManagerClass.preferences"><strong>preferences</strong></a> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigDict</span></code> with preferences</p></li>
</ul>
</dd>
<dt class="field-even">Signal</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">modified-changed</span> <span class="pre">()</span></code>: emitted when the page is edited</p>
</dd>
<dt class="field-odd">Signal</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">textstyle-changed</span> <span class="pre">(style)</span></code>:
Emitted when textstyle at the cursor changes, gets the list of text styles or None.</p>
</dd>
<dt class="field-even">Signal</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">activate-link</span> <span class="pre">(link,</span> <span class="pre">hints)</span></code>: emitted when a link is opened,
stops emission after the first handler returns <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd>
</dl>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<p>document preferences supported by PageView</p>
</div>
<div class="admonition-todo admonition" id="id3">
<p class="admonition-title">Todo</p>
<p>document extra keybindings implemented in this widget</p>
</div>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Todo</p>
<p>document style properties supported by this widget</p>
</div>
<dl class="py method">
<dt id="zim.gui.pageview.PageView.activate_link">
<code class="sig-name descname">activate_link</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">link</span></em>, <em class="sig-param"><span class="n">new_window</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.activate_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.apply_format_bullet_list">
<code class="sig-name descname">apply_format_bullet_list</code><a class="headerlink" href="#zim.gui.pageview.PageView.apply_format_bullet_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.apply_format_checkbox_list">
<code class="sig-name descname">apply_format_checkbox_list</code><a class="headerlink" href="#zim.gui.pageview.PageView.apply_format_checkbox_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.apply_format_code">
<code class="sig-name descname">apply_format_code</code><a class="headerlink" href="#zim.gui.pageview.PageView.apply_format_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.apply_format_emphasis">
<code class="sig-name descname">apply_format_emphasis</code><a class="headerlink" href="#zim.gui.pageview.PageView.apply_format_emphasis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.apply_format_h1">
<code class="sig-name descname">apply_format_h1</code><a class="headerlink" href="#zim.gui.pageview.PageView.apply_format_h1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.apply_format_h2">
<code class="sig-name descname">apply_format_h2</code><a class="headerlink" href="#zim.gui.pageview.PageView.apply_format_h2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.apply_format_h3">
<code class="sig-name descname">apply_format_h3</code><a class="headerlink" href="#zim.gui.pageview.PageView.apply_format_h3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.apply_format_h4">
<code class="sig-name descname">apply_format_h4</code><a class="headerlink" href="#zim.gui.pageview.PageView.apply_format_h4" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.apply_format_h5">
<code class="sig-name descname">apply_format_h5</code><a class="headerlink" href="#zim.gui.pageview.PageView.apply_format_h5" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.apply_format_mark">
<code class="sig-name descname">apply_format_mark</code><a class="headerlink" href="#zim.gui.pageview.PageView.apply_format_mark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.apply_format_numbered_list">
<code class="sig-name descname">apply_format_numbered_list</code><a class="headerlink" href="#zim.gui.pageview.PageView.apply_format_numbered_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.apply_format_strike">
<code class="sig-name descname">apply_format_strike</code><a class="headerlink" href="#zim.gui.pageview.PageView.apply_format_strike" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.apply_format_strong">
<code class="sig-name descname">apply_format_strong</code><a class="headerlink" href="#zim.gui.pageview.PageView.apply_format_strong" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.apply_format_sub">
<code class="sig-name descname">apply_format_sub</code><a class="headerlink" href="#zim.gui.pageview.PageView.apply_format_sub" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.apply_format_sup">
<code class="sig-name descname">apply_format_sup</code><a class="headerlink" href="#zim.gui.pageview.PageView.apply_format_sup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.attach_file">
<code class="sig-name descname">attach_file</code><a class="headerlink" href="#zim.gui.pageview.PageView.attach_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.autoselect">
<code class="sig-name descname">autoselect</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">selectline</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.autoselect" title="Permalink to this definition">¶</a></dt>
<dd><p>Auto select either a word or a line.</p>
<p>Does not do anything if a selection is present already or when
the preference for auto-select is set to False.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>selectline</strong> – if <code class="docutils literal notranslate"><span class="pre">True</span></code> auto-select a whole line,
only auto-select a single word otherwise</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> when this function changed the selection.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.clear_formatting">
<code class="sig-name descname">clear_formatting</code><a class="headerlink" href="#zim.gui.pageview.PageView.clear_formatting" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.clear_heading_format">
<code class="sig-name descname">clear_heading_format</code><a class="headerlink" href="#zim.gui.pageview.PageView.clear_heading_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.clear_list_format">
<code class="sig-name descname">clear_list_format</code><a class="headerlink" href="#zim.gui.pageview.PageView.clear_list_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.copy">
<code class="sig-name descname">copy</code><a class="headerlink" href="#zim.gui.pageview.PageView.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.copy_current_line">
<code class="sig-name descname">copy_current_line</code><a class="headerlink" href="#zim.gui.pageview.PageView.copy_current_line" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.cut">
<code class="sig-name descname">cut</code><a class="headerlink" href="#zim.gui.pageview.PageView.cut" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.delete">
<code class="sig-name descname">delete</code><a class="headerlink" href="#zim.gui.pageview.PageView.delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.do_activate_link">
<code class="sig-name descname">do_activate_link</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">link</span></em>, <em class="sig-param"><span class="n">hints</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.do_activate_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.do_mark_set">
<code class="sig-name descname">do_mark_set</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buffer</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">mark</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.do_mark_set" title="Permalink to this definition">¶</a></dt>
<dd><p>:emits link-caret-enter
:emits link-caret-leave</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.do_populate_popup">
<code class="sig-name descname">do_populate_popup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">menu</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.do_populate_popup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.do_textstyle_changed">
<code class="sig-name descname">do_textstyle_changed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">styles</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.do_textstyle_changed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.do_toggle_format_action">
<code class="sig-name descname">do_toggle_format_action</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">action</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.do_toggle_format_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler that catches all actions to apply and/or toggle formats</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.do_toggle_format_action_alt">
<code class="sig-name descname">do_toggle_format_action_alt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">active</span></em>, <em class="sig-param"><span class="n">action</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.do_toggle_format_action_alt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.edit_object">
<code class="sig-name descname">edit_object</code><a class="headerlink" href="#zim.gui.pageview.PageView.edit_object" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.find">
<code class="sig-name descname">find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">string</span></em>, <em class="sig-param"><span class="n">flags</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find some string in the text, scroll there and select it</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string</strong> – the text to find</p></li>
<li><p><strong>flags</strong> – options for find behavior, see <a class="reference internal" href="#zim.gui.pageview.TextFinder.find" title="zim.gui.pageview.TextFinder.find"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextFinder.find()</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.find_next">
<code class="sig-name descname">find_next</code><a class="headerlink" href="#zim.gui.pageview.PageView.find_next" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.find_previous">
<code class="sig-name descname">find_previous</code><a class="headerlink" href="#zim.gui.pageview.PageView.find_previous" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.get_cursor_pos">
<code class="sig-name descname">get_cursor_pos</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.get_cursor_pos" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the cursor position in the buffer</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the cursor position as an integer offset from the
start of the buffer</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.get_scroll_pos">
<code class="sig-name descname">get_scroll_pos</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.get_scroll_pos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.get_selection">
<code class="sig-name descname">get_selection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">format</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.get_selection" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method to get the text of the current selection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>format</strong> – format to use for the formatting of the returned
text (e.g. ‘wiki’ or ‘html’). If the format is <code class="docutils literal notranslate"><span class="pre">None</span></code> only the
text will be returned without any formatting.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>text selection or <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.get_word">
<code class="sig-name descname">get_word</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">format</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.get_word" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method to get the word that is under the cursor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>format</strong> – format to use for the formatting of the returned
text (e.g. ‘wiki’ or ‘html’). If the format is <code class="docutils literal notranslate"><span class="pre">None</span></code> only the
text will be returned without any formatting.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>current word or <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.grab_focus">
<code class="sig-name descname">grab_focus</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.grab_focus" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.hide_find">
<code class="sig-name descname">hide_find</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.hide_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Hide the <a class="reference internal" href="#zim.gui.pageview.FindBar" title="zim.gui.pageview.FindBar"><code class="xref py py-class docutils literal notranslate"><span class="pre">FindBar</span></code></a> widget</p>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.insert_bullet_list">
<code class="sig-name descname">insert_bullet_list</code><a class="headerlink" href="#zim.gui.pageview.PageView.insert_bullet_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.insert_checkbox_list">
<code class="sig-name descname">insert_checkbox_list</code><a class="headerlink" href="#zim.gui.pageview.PageView.insert_checkbox_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.insert_date">
<code class="sig-name descname">insert_date</code><a class="headerlink" href="#zim.gui.pageview.PageView.insert_date" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.insert_image">
<code class="sig-name descname">insert_image</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.insert_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file</strong> – the image file to insert. If <code class="docutils literal notranslate"><span class="pre">file</span></code> does not exist or
isn’t an image, a “broken image” icon will be shown</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.insert_line">
<code class="sig-name descname">insert_line</code><a class="headerlink" href="#zim.gui.pageview.PageView.insert_line" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.insert_link">
<code class="sig-name descname">insert_link</code><a class="headerlink" href="#zim.gui.pageview.PageView.insert_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.insert_links">
<code class="sig-name descname">insert_links</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">links</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.insert_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Non-interactive method to insert one or more links</p>
<p>Inserts the links separated by newlines. Intended e.g. for
drag-and-drop or copy-paste actions of e.g. files from a
file browser.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>links</strong> – list of links, either as string, <code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code> objects,
or <code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code> objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.insert_new_file">
<code class="sig-name descname">insert_new_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">template</span></em>, <em class="sig-param"><span class="n">basename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.insert_new_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.insert_numbered_list">
<code class="sig-name descname">insert_numbered_list</code><a class="headerlink" href="#zim.gui.pageview.PageView.insert_numbered_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.insert_object">
<code class="sig-name descname">insert_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attrib</span></em>, <em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.insert_object" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.insert_object_model">
<code class="sig-name descname">insert_object_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">otype</span></em>, <em class="sig-param"><span class="n">model</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.insert_object_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.insert_text_from_file">
<code class="sig-name descname">insert_text_from_file</code><a class="headerlink" href="#zim.gui.pageview.PageView.insert_text_from_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.migrate_checkbox">
<code class="sig-name descname">migrate_checkbox</code><a class="headerlink" href="#zim.gui.pageview.PageView.migrate_checkbox" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.navigate_to_anchor">
<code class="sig-name descname">navigate_to_anchor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">select_line</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.navigate_to_anchor" title="Permalink to this definition">¶</a></dt>
<dd><p>Navigate to an anchor on the current page.
:param name: The name of the anchor to navigate to
:param select_line: Select the whole line after</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.on_insertedobjecttypemap_changed">
<code class="sig-name descname">on_insertedobjecttypemap_changed</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">a</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.on_insertedobjecttypemap_changed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.on_link_enter">
<code class="sig-name descname">on_link_enter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">view</span></em>, <em class="sig-param"><span class="n">link</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.on_link_enter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.on_link_leave">
<code class="sig-name descname">on_link_leave</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">view</span></em>, <em class="sig-param"><span class="n">link</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.on_link_leave" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.on_modified_changed">
<code class="sig-name descname">on_modified_changed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buffer</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.on_modified_changed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.on_preferences_changed">
<code class="sig-name descname">on_preferences_changed</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">a</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.on_preferences_changed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.on_text_style_changed">
<code class="sig-name descname">on_text_style_changed</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">a</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.on_text_style_changed" title="Permalink to this definition">¶</a></dt>
<dd><p>(Re-)intializes properties for TextView, TextBuffer and
TextTags based on the properties in the style config.</p>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.open_file_templates_folder">
<code class="sig-name descname">open_file_templates_folder</code><a class="headerlink" href="#zim.gui.pageview.PageView.open_file_templates_folder" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.paste">
<code class="sig-name descname">paste</code><a class="headerlink" href="#zim.gui.pageview.PageView.paste" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.redo">
<code class="sig-name descname">redo</code><a class="headerlink" href="#zim.gui.pageview.PageView.redo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.remove_link">
<code class="sig-name descname">remove_link</code><a class="headerlink" href="#zim.gui.pageview.PageView.remove_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.replace_selection">
<code class="sig-name descname">replace_selection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">autoselect</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.replace_selection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.save_changes">
<code class="sig-name descname">save_changes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">write_if_not_modified</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.save_changes" title="Permalink to this definition">¶</a></dt>
<dd><p>Save contents of the widget back to the page object and
synchronize it with the notebook.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>write_if_not_modified</strong> – If <code class="docutils literal notranslate"><span class="pre">True</span></code> page will be written
even if it is not changed. (This allows e.g. to force saving template
content to disk without editing.)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.save_page">
<code class="sig-name descname">save_page</code><a class="headerlink" href="#zim.gui.pageview.PageView.save_page" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.scroll_cursor_on_screen">
<code class="sig-name descname">scroll_cursor_on_screen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.scroll_cursor_on_screen" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.set_cursor_pos">
<code class="sig-name descname">set_cursor_pos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pos</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.set_cursor_pos" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the cursor position in the buffer and scroll the TextView
to show it</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pos</strong> – the cursor position as an integer offset from the
start of the buffer</p>
</dd>
</dl>
<p>As a special case when the cursor position is <code class="docutils literal notranslate"><span class="pre">-1</span></code> the cursor
is set at the end of the buffer.</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.set_edit_bar_visible">
<code class="sig-name descname">set_edit_bar_visible</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">visible</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.set_edit_bar_visible" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.set_page">
<code class="sig-name descname">set_page</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">page</span></em>, <em class="sig-param"><span class="n">cursor</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.set_page" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the current page to be displayed in the pageview</p>
<p>When the page does not yet exist a template is loaded for a
new page which is obtained from
<code class="xref py py-class docutils literal notranslate"><span class="pre">Notebook.get_template()</span></code>.</p>
<p>Exceptions while loading the page are handled gracefully with
an error dialog and will result in the widget to be read-only
and insensitive until the next page is loaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>page</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">Page</span></code> object</p></li>
<li><p><strong>cursor</strong> – optional cursor position (integer)</p></li>
</ul>
</dd>
</dl>
<p>When the cursor is set to <code class="docutils literal notranslate"><span class="pre">-1</span></code> the cursor will be placed at
the end of the buffer.</p>
<p>If cursor is <code class="docutils literal notranslate"><span class="pre">None</span></code> the cursor is set at the start of the page
for existing pages or to the end of the template when the page
does not yet exist.</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.set_readonly">
<code class="sig-name descname">set_readonly</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">readonly</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.set_readonly" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the widget read-only or not</p>
<p>Sets the read-only state but also update menu items etc. to
reflect the new state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>readonly</strong> – <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code> to set the read-only state</p>
</dd>
</dl>
<p>Effective read-only state seen in the <code class="docutils literal notranslate"><span class="pre">self.readonly</span></code> attribute
is in fact <code class="docutils literal notranslate"><span class="pre">True</span></code> (so read-only) when either the widget itself
OR the current page is read-only. So setting read-only to
<code class="docutils literal notranslate"><span class="pre">False</span></code> here may not immediately change <code class="docutils literal notranslate"><span class="pre">self.readonly</span></code> if
a read-only page is loaded.</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.set_scroll_pos">
<code class="sig-name descname">set_scroll_pos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pos</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.set_scroll_pos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.show_find">
<code class="sig-name descname">show_find</code><a class="headerlink" href="#zim.gui.pageview.PageView.show_find" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.show_find_and_replace">
<code class="sig-name descname">show_find_and_replace</code><a class="headerlink" href="#zim.gui.pageview.PageView.show_find_and_replace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.show_insert_image">
<code class="sig-name descname">show_insert_image</code><a class="headerlink" href="#zim.gui.pageview.PageView.show_insert_image" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.show_word_count">
<code class="sig-name descname">show_word_count</code><a class="headerlink" href="#zim.gui.pageview.PageView.show_word_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.toggle_checkbox">
<code class="sig-name descname">toggle_checkbox</code><a class="headerlink" href="#zim.gui.pageview.PageView.toggle_checkbox" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageView.toggle_format">
<code class="sig-name descname">toggle_format</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">format</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageView.toggle_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle the format for the current (auto-)selection or new
insertions at the current cursor position</p>
<p>When the cursor is at the begin or in the middle of a word and there is
not selection, the word is selected automatically to toggle the format.
For headings and other line based formats auto-selects the whole line.</p>
<p>This is the handler for all the format actions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>format</strong> – the format style name (e.g. “h1”, “strong” etc.)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.toggle_format_code">
<code class="sig-name descname">toggle_format_code</code><a class="headerlink" href="#zim.gui.pageview.PageView.toggle_format_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle action, used by the <code class="xref py py-class docutils literal notranslate"><span class="pre">toggle_action</span></code> decorator</p>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.toggle_format_emphasis">
<code class="sig-name descname">toggle_format_emphasis</code><a class="headerlink" href="#zim.gui.pageview.PageView.toggle_format_emphasis" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle action, used by the <code class="xref py py-class docutils literal notranslate"><span class="pre">toggle_action</span></code> decorator</p>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.toggle_format_mark">
<code class="sig-name descname">toggle_format_mark</code><a class="headerlink" href="#zim.gui.pageview.PageView.toggle_format_mark" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle action, used by the <code class="xref py py-class docutils literal notranslate"><span class="pre">toggle_action</span></code> decorator</p>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.toggle_format_strike">
<code class="sig-name descname">toggle_format_strike</code><a class="headerlink" href="#zim.gui.pageview.PageView.toggle_format_strike" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle action, used by the <code class="xref py py-class docutils literal notranslate"><span class="pre">toggle_action</span></code> decorator</p>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.toggle_format_strong">
<code class="sig-name descname">toggle_format_strong</code><a class="headerlink" href="#zim.gui.pageview.PageView.toggle_format_strong" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle action, used by the <code class="xref py py-class docutils literal notranslate"><span class="pre">toggle_action</span></code> decorator</p>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.toggle_format_sub">
<code class="sig-name descname">toggle_format_sub</code><a class="headerlink" href="#zim.gui.pageview.PageView.toggle_format_sub" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle action, used by the <code class="xref py py-class docutils literal notranslate"><span class="pre">toggle_action</span></code> decorator</p>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.toggle_format_sup">
<code class="sig-name descname">toggle_format_sup</code><a class="headerlink" href="#zim.gui.pageview.PageView.toggle_format_sup" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle action, used by the <code class="xref py py-class docutils literal notranslate"><span class="pre">toggle_action</span></code> decorator</p>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.transmigrate_checkbox">
<code class="sig-name descname">transmigrate_checkbox</code><a class="headerlink" href="#zim.gui.pageview.PageView.transmigrate_checkbox" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.uncheck_checkbox">
<code class="sig-name descname">uncheck_checkbox</code><a class="headerlink" href="#zim.gui.pageview.PageView.uncheck_checkbox" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.undo">
<code class="sig-name descname">undo</code><a class="headerlink" href="#zim.gui.pageview.PageView.undo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.xtoggle_checkbox">
<code class="sig-name descname">xtoggle_checkbox</code><a class="headerlink" href="#zim.gui.pageview.PageView.xtoggle_checkbox" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.zoom_in">
<code class="sig-name descname">zoom_in</code><a class="headerlink" href="#zim.gui.pageview.PageView.zoom_in" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.zoom_out">
<code class="sig-name descname">zoom_out</code><a class="headerlink" href="#zim.gui.pageview.PageView.zoom_out" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.PageView.zoom_reset">
<code class="sig-name descname">zoom_reset</code><a class="headerlink" href="#zim.gui.pageview.PageView.zoom_reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.PageViewExtension">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">PageViewExtension</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">arg</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwarg</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageViewExtension" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zim.gui.pageview.PageViewExtensionBase" title="zim.gui.pageview.PageViewExtensionBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.pageview.PageViewExtensionBase</span></code></a></p>
<p>Base class for extensions of the <a class="reference internal" href="#zim.gui.pageview.PageView" title="zim.gui.pageview.PageView"><code class="xref py py-class docutils literal notranslate"><span class="pre">PageView</span></code></a>,
see <a class="reference internal" href="#zim.gui.pageview.PageViewExtensionBase" title="zim.gui.pageview.PageViewExtensionBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">PageViewExtensionBase</span></code></a> for API documentation.</p>
</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.PageViewExtensionBase">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">PageViewExtensionBase</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">arg</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwarg</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageViewExtensionBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zim.gui.html#zim.gui.actionextension.ActionExtensionBase" title="zim.gui.actionextension.ActionExtensionBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.actionextension.ActionExtensionBase</span></code></a></p>
<p>Base class for extensions that want to interact with the “page view”,
which is the primary editor view of the application.</p>
<p>This extension class will collect actions defined with the <code class="docutils literal notranslate"><span class="pre">&#64;action</span></code>,
<code class="docutils literal notranslate"><span class="pre">&#64;toggle_action</span></code> or <code class="docutils literal notranslate"><span class="pre">&#64;radio_action</span></code> decorators and add them to the window.</p>
<p>This extension class also supports showing side panes that are visible as
part of the “decoration” of the editor view.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#module-zim.gui.pageview" title="zim.gui.pageview"><strong>pageview</strong></a> – the <a class="reference internal" href="#zim.gui.pageview.PageView" title="zim.gui.pageview.PageView"><code class="xref py py-class docutils literal notranslate"><span class="pre">PageView</span></code></a> object</p></li>
<li><p><a class="reference internal" href="zim.gui.html#module-zim.gui.navigation" title="zim.gui.navigation"><strong>navigation</strong></a> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">NavigationModel</span></code> model</p></li>
<li><p><strong>uistate</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigDict</span></code> to store the extensions ui state or</p></li>
</ul>
</dd>
</dl>
<p>The “uistate” is the per notebook state of the interface, it is
intended for stuff like the last folder opened by the user or the
size of a dialog after resizing. It is stored in the X{state.conf}
file in the notebook cache folder. It differs from the preferences,
which are stored globally and dictate the behavior of the application.
(To access the preference use <code class="docutils literal notranslate"><span class="pre">plugin.preferences</span></code>.)</p>
<dl class="py method">
<dt id="zim.gui.pageview.PageViewExtensionBase.add_sidepane_widget">
<code class="sig-name descname">add_sidepane_widget</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">widget</span></em>, <em class="sig-param"><span class="n">preferences_key</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageViewExtensionBase.add_sidepane_widget" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageViewExtensionBase.remove_sidepane_widget">
<code class="sig-name descname">remove_sidepane_widget</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">widget</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageViewExtensionBase.remove_sidepane_widget" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PageViewExtensionBase.teardown">
<code class="sig-name descname">teardown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PageViewExtensionBase.teardown" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove changes made by <strong>this</strong> class from the extended object
To be overloaded by child classes</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>do not call parent class <code class="docutils literal notranslate"><span class="pre">teardown()</span></code> here, that is
already taken care of by <code class="docutils literal notranslate"><span class="pre">destroy()</span></code></p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.PluginInsertedObjectAnchor">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">PluginInsertedObjectAnchor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">objecttype</span></em>, <em class="sig-param"><span class="n">objectmodel</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PluginInsertedObjectAnchor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zim.gui.pageview.InsertedObjectAnchor" title="zim.gui.pageview.InsertedObjectAnchor"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.pageview.InsertedObjectAnchor</span></code></a></p>
<dl class="py method">
<dt id="zim.gui.pageview.PluginInsertedObjectAnchor.create_widget">
<code class="sig-name descname">create_widget</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PluginInsertedObjectAnchor.create_widget" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PluginInsertedObjectAnchor.dump">
<code class="sig-name descname">dump</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">builder</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PluginInsertedObjectAnchor.dump" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.PromptExistingFileDialog">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">PromptExistingFileDialog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">widget</span></em>, <em class="sig-param"><span class="n">file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PromptExistingFileDialog" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zim.gui.html#zim.gui.widgets.Dialog" title="zim.gui.widgets.Dialog"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.widgets.Dialog</span></code></a></p>
<p>Dialog that is used e.g. when a file should be attached to zim,
but a file with the same name already exists in the attachment
directory. This Dialog allows to suggest a new name or overwrite
the existing one.</p>
<p>For this dialog <code class="docutils literal notranslate"><span class="pre">run()</span></code> will return either the original file
(for overwrite), a new file, or None when the dialog was canceled.</p>
<dl class="py method">
<dt id="zim.gui.pageview.PromptExistingFileDialog.do_response_ok">
<code class="sig-name descname">do_response_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PromptExistingFileDialog.do_response_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler called when the user clicks the “OK” button (or
an equivalent button)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if successfull and the dialog can close. Returns
<code class="docutils literal notranslate"><span class="pre">False</span></code> if e.g. input is not valid, this will keep the dialog open.</p>
</dd>
<dt class="field-even">Implementation</dt>
<dd class="field-even"><p>must be implemented by sub-classes that have
an “OK” button</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PromptExistingFileDialog.do_response_overwrite">
<code class="sig-name descname">do_response_overwrite</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">a</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PromptExistingFileDialog.do_response_overwrite" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.PromptExistingFileDialog.do_show_folder">
<code class="sig-name descname">do_show_folder</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">a</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.PromptExistingFileDialog.do_show_folder" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.SaveCursorContext">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">SaveCursorContext</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buffer</span></em>, <em class="sig-param"><span class="n">iter</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gravity</span><span class="o">=</span><span class="default_value">'left'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.SaveCursorContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Context manager used by <a class="reference internal" href="#zim.gui.pageview.TextBuffer.tmp_cursor" title="zim.gui.pageview.TextBuffer.tmp_cursor"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextBuffer.tmp_cursor()</span></code></a></p>
<p>This allows syntax like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">buffer</span><span class="o">.</span><span class="n">tmp_cursor</span><span class="p">(</span><span class="nb">iter</span><span class="p">):</span>
        <span class="c1"># some manipulation using iter as cursor position</span>

<span class="c1"># old cursor position restored</span>
</pre></div>
</div>
<p>Basically it keeps a mark for the old cursor and restores it
after exiting the context.</p>
</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.SavePageErrorDialog">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">SavePageErrorDialog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pageview</span></em>, <em class="sig-param"><span class="n">error</span></em>, <em class="sig-param"><span class="n">page</span></em>, <em class="sig-param"><span class="n">timeout</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.SavePageErrorDialog" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zim.gui.html#zim.gui.widgets.ErrorDialog" title="zim.gui.widgets.ErrorDialog"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.widgets.ErrorDialog</span></code></a></p>
<p>Error dialog used when we hit an error while trying to save a page.
Allow to save a copy or to discard changes. Includes a timer which
delays the action buttons becoming sensitive. Reason for this timer is
that the dialog may popup from auto-save while the user is typing, and
we want to prevent an accidental action.</p>
<dl class="py method">
<dt id="zim.gui.pageview.SavePageErrorDialog.discard">
<code class="sig-name descname">discard</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.SavePageErrorDialog.discard" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.SavePageErrorDialog.do_response_ok">
<code class="sig-name descname">do_response_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.SavePageErrorDialog.do_response_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>Response handler for the ‘OK’ button</p>
<dl class="field-list simple">
<dt class="field-odd">Implementation</dt>
<dd class="field-odd"><p>optional to be implemented by sub-classes that
want to run some action after presenting the error.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.SavePageErrorDialog.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.SavePageErrorDialog.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the dialog and destroys it directly.</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.SavePageErrorDialog.save_copy">
<code class="sig-name descname">save_copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.SavePageErrorDialog.save_copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.SavePageHandler">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">SavePageHandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pageview</span></em>, <em class="sig-param"><span class="n">notebook</span></em>, <em class="sig-param"><span class="n">get_page_cb</span></em>, <em class="sig-param"><span class="n">timeout</span><span class="o">=</span><span class="default_value">15</span></em>, <em class="sig-param"><span class="n">use_thread</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.SavePageHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Object for handling page saving.</p>
<p>This class implements auto-saving on a timer and tries writing in
a background thread to ot block the user interface.</p>
<dl class="py method">
<dt id="zim.gui.pageview.SavePageHandler.cancel_autosave">
<code class="sig-name descname">cancel_autosave</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.SavePageHandler.cancel_autosave" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancel a pending autosave</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.SavePageHandler.do_try_save_page">
<code class="sig-name descname">do_try_save_page</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">a</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.SavePageHandler.do_try_save_page" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.SavePageHandler.queue_autosave">
<code class="sig-name descname">queue_autosave</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timeout</span><span class="o">=</span><span class="default_value">15</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.SavePageHandler.queue_autosave" title="Permalink to this definition">¶</a></dt>
<dd><p>Queue a single autosave action after a given timeout.
Will not do anything once an autosave is already queued.
Autosave will keep running until page is no longer modified and
then stop.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> – timeout in seconds</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.SavePageHandler.save_page_now">
<code class="sig-name descname">save_page_now</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dialog_timeout</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.SavePageHandler.save_page_now" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the page in the foregound</p>
<p>Can result in a <a class="reference internal" href="#zim.gui.pageview.SavePageErrorDialog" title="zim.gui.pageview.SavePageErrorDialog"><code class="xref py py-class docutils literal notranslate"><span class="pre">SavePageErrorDialog</span></code></a> when there is an error
while saving a page. If that dialog is cancelled by the user,
the page may not be saved after all.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dialog_timeout</strong> – passed on to <a class="reference internal" href="#zim.gui.pageview.SavePageErrorDialog" title="zim.gui.pageview.SavePageErrorDialog"><code class="xref py py-class docutils literal notranslate"><span class="pre">SavePageErrorDialog</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.SavePageHandler.try_save_page">
<code class="sig-name descname">try_save_page</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.SavePageHandler.try_save_page" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to save the page</p>
<ul class="simple">
<li><p>Will not do anything if page is not modified or when an
autosave is already in progress.</p></li>
<li><p>If last autosave resulted in an error, will run in the
foreground, else it tries to write the page in a background
thread</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.SavePageHandler.wait_for_store_page_async">
<code class="sig-name descname">wait_for_store_page_async</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.SavePageHandler.wait_for_store_page_async" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.TableAnchor">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">TableAnchor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">objecttype</span></em>, <em class="sig-param"><span class="n">objectmodel</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TableAnchor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zim.gui.pageview.InsertedObjectAnchor" title="zim.gui.pageview.InsertedObjectAnchor"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.pageview.InsertedObjectAnchor</span></code></a></p>
<dl class="py method">
<dt id="zim.gui.pageview.TableAnchor.create_widget">
<code class="sig-name descname">create_widget</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TableAnchor.create_widget" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TableAnchor.dump">
<code class="sig-name descname">dump</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">builder</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TableAnchor.dump" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.TextBuffer">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">TextBuffer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">notebook</span></em>, <em class="sig-param"><span class="n">page</span></em>, <em class="sig-param"><span class="n">parsetree</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">gi.overrides.Gtk.TextBuffer</span></code></p>
<p>Data model for the editor widget</p>
<p>This sub-class of <code class="docutils literal notranslate"><span class="pre">Gtk.TextBuffer</span></code> manages the contents of
the <a class="reference internal" href="#zim.gui.pageview.TextView" title="zim.gui.pageview.TextView"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextView</span></code></a> widget. It has an internal data model that allows
to manipulate the formatted text by cursor positions. It manages
images, links, bullet lists etc. The methods <a class="reference internal" href="#zim.gui.pageview.TextBuffer.set_parsetree" title="zim.gui.pageview.TextBuffer.set_parsetree"><code class="xref py py-class docutils literal notranslate"><span class="pre">set_parsetree()</span></code></a>
and <a class="reference internal" href="#zim.gui.pageview.TextBuffer.get_parsetree" title="zim.gui.pageview.TextBuffer.get_parsetree"><code class="xref py py-class docutils literal notranslate"><span class="pre">get_parsetree()</span></code></a> can exchange the formatted text as a
<code class="xref py py-class docutils literal notranslate"><span class="pre">ParseTree</span></code> object which can be parsed by the <a class="reference internal" href="zim.formats.html#module-zim.formats" title="zim.formats"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.formats</span></code></a>
modules.</p>
<p>Formatting styles like bold, italic etc. as well as functional
text objects like links and tags are represented by <code class="docutils literal notranslate"><span class="pre">Gtk.TextTags</span></code>.
For static styles these TextTags have the same name as the style.
For links and tag anonymous TextTags are used. Be aware though that
not all TextTags in the model are managed by us, e.g. gtkspell
uses it’s own tags. TextTags that are managed by us have an
additional attribute <code class="docutils literal notranslate"><span class="pre">zim_type</span></code> which gives the format type
for this tag. All TextTags without this attribute are not ours.
All TextTags that have a <code class="docutils literal notranslate"><span class="pre">zim_type</span></code> attribute also have an
<code class="docutils literal notranslate"><span class="pre">zim_attrib</span></code> attribute, which can be either <code class="docutils literal notranslate"><span class="pre">None</span></code> or contain
some properties, like the <code class="docutils literal notranslate"><span class="pre">href</span></code> property for a link. See the
parsetree documentation for what properties to expect.</p>
<p>The buffer keeps an internal state for what tags should be applied
to new text and applies these automatically when text is inserted.
E.g. when you place the cursor at the end of a bold area and
start typing the new text will be bold as well. However when you
move to the beginning of the area it will not be bold.</p>
<p>One limitation is that the current code supposes only one format
style can be applied to a part of text at the same time. This
means you can not overlap e.g. bold and italic styles. But it
makes the code simpler because we only deal with one style at a
time.</p>
<p>Embedded images and icons are handled by <code class="docutils literal notranslate"><span class="pre">GdkPixbuf.Pixbuf</span></code> object.
Again the ones that are handled by us have the extry <code class="docutils literal notranslate"><span class="pre">zim_type</span></code> and
<code class="docutils literal notranslate"><span class="pre">zim_attrib</span></code> attributes.</p>
<p>As far as this class is concerned bullet and checkbox lists are just
a number of lines that start with a bullet (checkboxes are rendered
with small images or icons, but are also considered bullets).
There is some logic to keep list formatting nicely but it only
applies to one line at a time. For functionality affecting a list
as a whole see the <a class="reference internal" href="#zim.gui.pageview.TextBufferList" title="zim.gui.pageview.TextBufferList"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextBufferList</span></code></a> class.</p>
<div class="admonition-todo admonition" id="id5">
<p class="admonition-title">Todo</p>
<p>The buffer needs a reference to the notebook and page objects
for the text that is being shown to make sure that e.g. serializing
links works correctly. Check if we can get rid of page and notebook
here and just put provide them as arguments when needed.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#zim.gui.pageview.TextBuffer.tag_styles" title="zim.gui.pageview.TextBuffer.tag_styles"><strong>tag_styles</strong></a> – This dict defines the formatting styles supported
by the editor. The style properties are overruled by the values
from the X{style.conf} config file.</p></li>
<li><p><a class="reference internal" href="zim.export.html#zim.export.selections.PageSelection.notebook" title="zim.export.selections.PageSelection.notebook"><strong>notebook</strong></a> – The <code class="xref py py-class docutils literal notranslate"><span class="pre">Notebook</span></code> object</p></li>
<li><p><a class="reference internal" href="zim.notebook.html#module-zim.notebook.page" title="zim.notebook.page"><strong>page</strong></a> – The <code class="xref py py-class docutils literal notranslate"><span class="pre">Page</span></code> object</p></li>
<li><p><strong>user_action</strong> – A <a class="reference internal" href="#zim.gui.pageview.UserActionContext" title="zim.gui.pageview.UserActionContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserActionContext</span></code></a> context manager</p></li>
<li><p><strong>finder</strong> – A <a class="reference internal" href="#zim.gui.pageview.TextFinder" title="zim.gui.pageview.TextFinder"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextFinder</span></code></a> for this buffer</p></li>
</ul>
</dd>
<dt class="field-even">Signal</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">begin-insert-tree</span> <span class="pre">(interactive)</span></code>:
Emitted at the begin of a complex insert, c{interactive} is boolean flag</p>
</dd>
<dt class="field-odd">Signal</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">end-insert-tree</span> <span class="pre">()</span></code>:
Emitted at the end of a complex insert</p>
</dd>
<dt class="field-even">Signal</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">textstyle-changed</span> <span class="pre">(style)</span></code>:
Emitted when textstyle at the cursor changes, gets the list of text styles or None.</p>
</dd>
<dt class="field-odd">Signal</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">link-clicked</span> <span class="pre">()</span></code>:
Emitted when a link is clicked; for example within a table cell</p>
</dd>
<dt class="field-even">Signal</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">undo-save-cursor</span> <span class="pre">(iter)</span></code>:
emitted in some specific case where the undo stack should
lock the current cursor position</p>
</dd>
<dt class="field-odd">Signal</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">insert-objectanchor</span> <span class="pre">(achor)</span></code>: emitted when an object
is inserted, should trigger <a class="reference internal" href="#zim.gui.pageview.TextView" title="zim.gui.pageview.TextView"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextView</span></code></a> to attach a widget</p>
</dd>
</dl>
<div class="admonition-todo admonition" id="id6">
<p class="admonition-title">Todo</p>
<p>document tag styles that are supported</p>
</div>
<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.append_parsetree">
<code class="sig-name descname">append_parsetree</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tree</span></em>, <em class="sig-param"><span class="n">interactive</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.append_parsetree" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a <code class="xref py py-class docutils literal notranslate"><span class="pre">ParseTree</span></code> to the buffer</p>
<p>Like <a class="reference internal" href="#zim.gui.pageview.TextBuffer.insert_parsetree" title="zim.gui.pageview.TextBuffer.insert_parsetree"><code class="xref py py-class docutils literal notranslate"><span class="pre">insert_parsetree()</span></code></a> but inserts at the end of the current buffer.</p>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.TextBuffer.bullet_icon_size">
<code class="sig-name descname">bullet_icon_size</code><em class="property"> = &lt;enum GTK_ICON_SIZE_MENU of type Gtk.IconSize&gt;</em><a class="headerlink" href="#zim.gui.pageview.TextBuffer.bullet_icon_size" title="Permalink to this definition">¶</a></dt>
<dd><p>constant for icon size of checkboxes etc.</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.copy_clipboard">
<code class="sig-name descname">copy_clipboard</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">clipboard</span></em>, <em class="sig-param"><span class="n">format</span><span class="o">=</span><span class="default_value">'plain'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.copy_clipboard" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy current selection to a clipboard</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clipboard</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">Clipboard</span></code> object</p></li>
<li><p><strong>format</strong> – a format name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.cut_clipboard">
<code class="sig-name descname">cut_clipboard</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">clipboard</span></em>, <em class="sig-param"><span class="n">default_editable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.cut_clipboard" title="Permalink to this definition">¶</a></dt>
<dd><p>Cut current selection to a clipboard</p>
<p>First copies the selection to the clipboard and then deletes
the selection in the buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clipboard</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">Clipboard</span></code> object</p></li>
<li><p><strong>default_editable</strong> – default state of the <a class="reference internal" href="#zim.gui.pageview.TextView" title="zim.gui.pageview.TextView"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextView</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.do_begin_insert_tree">
<code class="sig-name descname">do_begin_insert_tree</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">interactive</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.do_begin_insert_tree" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.do_end_insert_tree">
<code class="sig-name descname">do_end_insert_tree</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.do_end_insert_tree" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.do_end_user_action">
<code class="sig-name descname">do_end_user_action</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.do_end_user_action" title="Permalink to this definition">¶</a></dt>
<dd><p>end_user_action(self)</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.do_insert_child_anchor">
<code class="sig-name descname">do_insert_child_anchor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">anchor</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.do_insert_child_anchor" title="Permalink to this definition">¶</a></dt>
<dd><p>insert_child_anchor(self, iter:Gtk.TextIter, anchor:Gtk.TextChildAnchor)</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.do_insert_pixbuf">
<code class="sig-name descname">do_insert_pixbuf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">pixbuf</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.do_insert_pixbuf" title="Permalink to this definition">¶</a></dt>
<dd><p>insert_pixbuf(self, iter:Gtk.TextIter, pixbuf:GdkPixbuf.Pixbuf)</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.do_insert_text">
<code class="sig-name descname">do_insert_text</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">string</span></em>, <em class="sig-param"><span class="n">length</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.do_insert_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Signal handler for insert-text signal</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.do_mark_set">
<code class="sig-name descname">do_mark_set</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">mark</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.do_mark_set" title="Permalink to this definition">¶</a></dt>
<dd><p>mark_set(self, location:Gtk.TextIter, mark:Gtk.TextMark)</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.do_post_delete_range">
<code class="sig-name descname">do_post_delete_range</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.do_post_delete_range" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.do_pre_delete_range">
<code class="sig-name descname">do_pre_delete_range</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.do_pre_delete_range" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.find_anchor">
<code class="sig-name descname">find_anchor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.find_anchor" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current page for an anchor with the requested name.</p>
<p>Explicit anchors are being searched with precedence over implicit
anchors derived from heading elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the name of the anchor to look for</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code> pointing to the start of the heading or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.find_implicit_anchor">
<code class="sig-name descname">find_implicit_anchor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.find_implicit_anchor" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the current page for a heading who’s derived (implicit) anchor name is
matching the provided parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the name of the anchor</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code> pointing to the start of the heading or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.foreach_line_in_selection">
<code class="sig-name descname">foreach_line_in_selection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwarg</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.foreach_line_in_selection" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to call a function for each line that
is currently selected</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> – <p>function which will be called as:</p>
<p>func(line, <a href="#id7"><span class="problematic" id="id8">*</span></a>args, <a href="#id9"><span class="problematic" id="id10">**</span></a>kwargs)</p>
</p>
</dd>
</dl>
<p>where <code class="docutils literal notranslate"><span class="pre">line</span></code> is the line number
:param args: additional argument for <code class="docutils literal notranslate"><span class="pre">func</span></code>
:param kwarg: additional keyword argument for <code class="docutils literal notranslate"><span class="pre">func</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">False</span></code> if there is no selection, <code class="docutils literal notranslate"><span class="pre">True</span></code> otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_anchor_data">
<code class="sig-name descname">get_anchor_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_anchor_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_anchor_for_location">
<code class="sig-name descname">get_anchor_for_location</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_anchor_for_location" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an anchor name that refers to <code class="docutils literal notranslate"><span class="pre">iter</span></code> or the same line
Uses <code class="docutils literal notranslate"><span class="pre">iter</span></code> to return id of explicit anchor on the same line closest
to <code class="docutils literal notranslate"><span class="pre">iter</span></code>. If no explicit anchor is found and <code class="docutils literal notranslate"><span class="pre">iter</span></code> is within a heading
line, the implicit anchor for the heading is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter</strong> – the location to refer to</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an anchor name if any anchor object or heading is found, else <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_anchor_or_object_id">
<code class="sig-name descname">get_anchor_or_object_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_anchor_or_object_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_bullet">
<code class="sig-name descname">get_bullet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_bullet" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the bullet type on a specific line, if any</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>line</strong> – the line number</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>the bullet type, if any, or <code class="docutils literal notranslate"><span class="pre">None</span></code>.
The bullet type can be any of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BULLET</span>
<span class="n">UNCHECKED_BOX</span>
<span class="n">CHECKED_BOX</span>
<span class="n">XCHECKED_BOX</span>
<span class="n">MIGRATED_BOX</span>
</pre></div>
</div>
<p>or a numbered list bullet (test with <code class="xref py py-class docutils literal notranslate"><span class="pre">is_numbered_bullet_re</span></code>)</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_bullet_at_iter">
<code class="sig-name descname">get_bullet_at_iter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_bullet_at_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the bullet type in a specific location</p>
<p>Like <a class="reference internal" href="#zim.gui.pageview.TextBuffer.get_bullet" title="zim.gui.pageview.TextBuffer.get_bullet"><code class="xref py py-class docutils literal notranslate"><span class="pre">get_bullet()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a bullet type, or <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_has_link_selection">
<code class="sig-name descname">get_has_link_selection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_has_link_selection" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a link is selected or not</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>link attributes when succcessful, <code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_has_selection">
<code class="sig-name descname">get_has_selection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_has_selection" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if there is a selection</p>
<p>Method available in <code class="docutils literal notranslate"><span class="pre">Gtk.TextBuffer</span></code> for gtk version &gt;= 2.10
reproduced here for backward compatibility.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> when there is a selection</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_image_data">
<code class="sig-name descname">get_image_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_image_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the attributes for an image at a specific position, if any</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code> object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dict with image properties or <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_indent">
<code class="sig-name descname">get_indent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_indent" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the indent level for a specific line</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>line</strong> – the line number</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a number for the indenting level</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_indent_at_cursor">
<code class="sig-name descname">get_indent_at_cursor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_indent_at_cursor" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the indent level at the cursor</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a number for the indenting level</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_insert_iter">
<code class="sig-name descname">get_insert_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_insert_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code> for the current cursor position</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_iter_at_line">
<code class="sig-name descname">get_iter_at_line</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_iter_at_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <code class="docutils literal notranslate"><span class="pre">Gtk.TextBuffer.get_iter_at_line()</span></code> but with additional
safety check</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>line</strong> – an integer line number counting from 0</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a Gtk.TextIter</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – when line is not within the buffer</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_line_bounds">
<code class="sig-name descname">get_line_bounds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_line_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the TextIters at start and end of line</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>line</strong> – the line number</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a 2-tuple of <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code> for start and end of the
line</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_line_is_empty">
<code class="sig-name descname">get_line_is_empty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_line_is_empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for empty lines</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>line</strong> – the line number</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the line only contains whitespace</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_link_data">
<code class="sig-name descname">get_link_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">raw</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_link_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the link attributes for a link at a specific position, if any</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dict with link properties if there is a link
at <code class="docutils literal notranslate"><span class="pre">iter</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_link_tag">
<code class="sig-name descname">get_link_tag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_link_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">Gtk.TextTag</span></code> for a link at a specific position, if any</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <code class="docutils literal notranslate"><span class="pre">Gtk.TextTag</span></code> if there is a link at <code class="docutils literal notranslate"><span class="pre">iter</span></code>,
<code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_link_text">
<code class="sig-name descname">get_link_text</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_link_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_objectanchor">
<code class="sig-name descname">get_objectanchor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_objectanchor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_objectanchor_at_cursor">
<code class="sig-name descname">get_objectanchor_at_cursor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_objectanchor_at_cursor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_parsetree">
<code class="sig-name descname">get_parsetree</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bounds</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">raw</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_parsetree" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a <code class="xref py py-class docutils literal notranslate"><span class="pre">ParseTree</span></code> representing the buffer contents</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bounds</strong> – a 2-tuple with two <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code> specifying a
range in the buffer (e.g. current selection). If <code class="docutils literal notranslate"><span class="pre">None</span></code> the
whole buffer is returned.</p></li>
<li><p><strong>raw</strong> – if <code class="docutils literal notranslate"><span class="pre">True</span></code> you get a tree that is <strong>not</strong> nicely
cleaned up. This raw tree should result in the exact same
contents in the buffer when reloaded. However such a ‘raw’
tree may cause problems when passed to one of the format
modules. So it is intended only for internal use between the
buffer and e.g. the <a class="reference internal" href="#zim.gui.pageview.UndoStackManager" title="zim.gui.pageview.UndoStackManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">UndoStackManager</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<p>Raw parsetrees have an attribute to flag them as a raw tree, so
on insert we can make sure they are inserted in the same way.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">raw</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code> reloading the same tree may have subtle
differences.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a <code class="xref py py-class docutils literal notranslate"><span class="pre">ParseTree</span></code> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_tag">
<code class="sig-name descname">get_tag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">type</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">Gtk.TextTag</span></code> for a zim type at a specific position, if any</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p></li>
<li><p><strong>type</strong> – the zim type to look for (‘style’, ‘link’, ‘tag’, ‘indent’, ‘anchor’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <code class="docutils literal notranslate"><span class="pre">Gtk.TextTag</span></code> if there is a tag at <code class="docutils literal notranslate"><span class="pre">iter</span></code>,
<code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_tag_bounds">
<code class="sig-name descname">get_tag_bounds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">tag</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_tag_bounds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_tag_data">
<code class="sig-name descname">get_tag_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_tag_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the attributes for a tag at a specific position, if any</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dict with tag properties if there is a link
at <code class="docutils literal notranslate"><span class="pre">iter</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_tag_tag">
<code class="sig-name descname">get_tag_tag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_tag_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">Gtk.TextTag</span></code> for a tag at a specific position, if any</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <code class="docutils literal notranslate"><span class="pre">Gtk.TextTag</span></code> if there is a tag at <code class="docutils literal notranslate"><span class="pre">iter</span></code>,
<code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_tag_text">
<code class="sig-name descname">get_tag_text</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">tag</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_tag_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.get_textstyles">
<code class="sig-name descname">get_textstyles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.get_textstyles" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name of the formatting style that will be applied
to newly inserted text</p>
<p>This style may change as soon as the cursor position changes,
so only relevant for current cursor position.</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.hascontent">
<em class="property">property </em><code class="sig-name descname">hascontent</code><a class="headerlink" href="#zim.gui.pageview.TextBuffer.hascontent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.indent">
<code class="sig-name descname">indent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line</span></em>, <em class="sig-param"><span class="n">interactive</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.indent" title="Permalink to this definition">¶</a></dt>
<dd><p>Increase the indent for a given line</p>
<p>Can be used as function for <a class="reference internal" href="#zim.gui.pageview.TextBuffer.foreach_line_in_selection" title="zim.gui.pageview.TextBuffer.foreach_line_in_selection"><code class="xref py py-class docutils literal notranslate"><span class="pre">foreach_line_in_selection()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>line</strong> – the line number</p></li>
<li><p><strong>interactive</strong> – hint if indenting is result of user
interaction, or automatic action</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if successful</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.insert_anchor">
<code class="sig-name descname">insert_anchor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">attrib</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.insert_anchor" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a “link anchor” with id <code class="docutils literal notranslate"><span class="pre">name</span></code> at <code class="docutils literal notranslate"><span class="pre">iter</span></code></p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.insert_anchor_at_cursor">
<code class="sig-name descname">insert_anchor_at_cursor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.insert_anchor_at_cursor" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a “link anchor” with id <code class="docutils literal notranslate"><span class="pre">name</span></code></p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.insert_child_anchor">
<code class="sig-name descname">insert_child_anchor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">iter</span><span class="p">:</span> <span class="n">Gtk.TextIter</span></em>, <em class="sig-param"><span class="n">anchor</span><span class="p">:</span> <span class="n">Gtk.TextChildAnchor</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.insert_child_anchor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.insert_image">
<code class="sig-name descname">insert_image</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">src</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">attrib</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.insert_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert an image in the buffer</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code> for the insert position</p></li>
<li><p><strong>file</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code> object or a file path or URI</p></li>
<li><p><strong>src</strong> – the file path the show to the user</p></li>
</ul>
</dd>
</dl>
<p>If the image is e.g. specified in the page source as a relative
link, <code class="docutils literal notranslate"><span class="pre">file</span></code> should give the absolute path the link resolves
to, while <code class="docutils literal notranslate"><span class="pre">src</span></code> gives the relative path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>attrib</strong> – any other image properties</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.insert_image_at_cursor">
<code class="sig-name descname">insert_image_at_cursor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">src</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">attrib</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.insert_image_at_cursor" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert an image in the buffer</p>
<p>Like <a class="reference internal" href="#zim.gui.pageview.TextBuffer.insert_image" title="zim.gui.pageview.TextBuffer.insert_image"><code class="xref py py-class docutils literal notranslate"><span class="pre">insert_image()</span></code></a> but inserts at the current cursor
position</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code> object or a file path or URI</p></li>
<li><p><strong>src</strong> – the file path the show to the user</p></li>
<li><p><strong>attrib</strong> – any other image properties</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.insert_link">
<code class="sig-name descname">insert_link</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">href</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">attrib</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.insert_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a link into the buffer</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code> for the insert position</p></li>
<li><p><strong>text</strong> – the text for the link as string</p></li>
<li><p><strong>href</strong> – the target (URL, pagename) of the link as string</p></li>
<li><p><strong>attrib</strong> – any other link attributes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.insert_link_at_cursor">
<code class="sig-name descname">insert_link_at_cursor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">href</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">attrib</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.insert_link_at_cursor" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a link into the buffer</p>
<p>Like insert_link() but inserts at the current cursor position</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – the text for the link as string</p></li>
<li><p><strong>href</strong> – the target (URL, pagename) of the link as string</p></li>
<li><p><strong>attrib</strong> – any other link attributes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.insert_object_at_cursor">
<code class="sig-name descname">insert_object_at_cursor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attrib</span></em>, <em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.insert_object_at_cursor" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts a custom object in the page</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attrib</strong> – dict with object attributes</p></li>
<li><p><strong>data</strong> – string data of object</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.insert_object_model_at_cursor">
<code class="sig-name descname">insert_object_model_at_cursor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">objecttype</span></em>, <em class="sig-param"><span class="n">model</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.insert_object_model_at_cursor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.insert_objectanchor">
<code class="sig-name descname">insert_objectanchor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">anchor</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.insert_objectanchor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.insert_objectanchor_at_cursor">
<code class="sig-name descname">insert_objectanchor_at_cursor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">anchor</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.insert_objectanchor_at_cursor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.insert_parsetree">
<code class="sig-name descname">insert_parsetree</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">tree</span></em>, <em class="sig-param"><span class="n">interactive</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.insert_parsetree" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a <code class="xref py py-class docutils literal notranslate"><span class="pre">ParseTree</span></code> in the buffer</p>
<p>This method inserts a parsetree at a specific place in the
buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code> for the insert position</p></li>
<li><p><strong>tree</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">ParseTree</span></code> object</p></li>
<li><p><strong>interactive</strong> – Boolean which determines how current state
in the buffer is handled. If not interactive we break any
existing tags and insert the tree, otherwise we insert using the
formatting tags that that are present at iter.</p></li>
</ul>
</dd>
</dl>
<p>For example when a parsetree is inserted because the user pastes
content from the clipboard <code class="docutils literal notranslate"><span class="pre">interactive</span></code> should be <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.insert_parsetree_at_cursor">
<code class="sig-name descname">insert_parsetree_at_cursor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tree</span></em>, <em class="sig-param"><span class="n">interactive</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.insert_parsetree_at_cursor" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a <code class="xref py py-class docutils literal notranslate"><span class="pre">ParseTree</span></code> in the buffer</p>
<p>Like <a class="reference internal" href="#zim.gui.pageview.TextBuffer.insert_parsetree" title="zim.gui.pageview.TextBuffer.insert_parsetree"><code class="xref py py-class docutils literal notranslate"><span class="pre">insert_parsetree()</span></code></a> but inserts at the current cursor
position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tree</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">ParseTree</span></code> object</p></li>
<li><p><strong>interactive</strong> – Boolean which determines how current state
in the buffer is handled.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.insert_pixbuf">
<code class="sig-name descname">insert_pixbuf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">iter</span><span class="p">:</span> <span class="n">Gtk.TextIter</span></em>, <em class="sig-param"><span class="n">pixbuf</span><span class="p">:</span> <span class="n">GdkPixbuf.Pixbuf</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.insert_pixbuf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.insert_table_element_at_cursor">
<code class="sig-name descname">insert_table_element_at_cursor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">element</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.insert_table_element_at_cursor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.insert_tag">
<code class="sig-name descname">insert_tag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">attrib</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.insert_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a tag into the buffer</p>
<p>Insert a tag in the buffer (not a TextTag, but a tag
like “&#64;foo”)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code> object</p></li>
<li><p><strong>text</strong> – The text for the tag</p></li>
<li><p><strong>attrib</strong> – any other tag attributes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.insert_tag_at_cursor">
<code class="sig-name descname">insert_tag_at_cursor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">attrib</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.insert_tag_at_cursor" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a tag into the buffer</p>
<p>Like <code class="docutils literal notranslate"><span class="pre">insert_tag()</span></code> but inserts at the current cursor position</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – The text for the tag</p></li>
<li><p><strong>attrib</strong> – any other tag attributes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.iter_anchors_for_range">
<code class="sig-name descname">iter_anchors_for_range</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.iter_anchors_for_range" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.iter_backward_word_start">
<code class="sig-name descname">iter_backward_word_start</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.iter_backward_word_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter.backward_word_start()</span></code> but less intelligent.
This method does not take into account the language or
punctuation and just skips to either the last whitespace or
the beginning of line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code>, the position of this iter will
be modified</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> when successful</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.iter_forward_past_bullet">
<code class="sig-name descname">iter_forward_past_bullet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.iter_forward_past_bullet" title="Permalink to this definition">¶</a></dt>
<dd><p>Move an TextIter past a bullet</p>
<p>This method is useful because we typically want to insert new
text on a line with a bullet after the bullet. This method can
help to find that position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code>. The position of this iter will
be modified by this method.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.iter_forward_word_end">
<code class="sig-name descname">iter_forward_word_end</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.iter_forward_word_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter.forward_word_end()</span></code> but less intelligent.
This method does not take into account the language or
punctuation and just skips to either the next whitespace or the
end of the line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code>, the position of this iter will
be modified</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> when successful</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.iter_get_zim_tags">
<code class="sig-name descname">iter_get_zim_tags</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.iter_get_zim_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Replacement for <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter.get_tags()</span></code> which returns
zim specific tags</p>
<p>In contrast to <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter.get_tags()</span></code> this method assumes
“left gravity” for TextTags. This means that it returns TextTags
ending to the left of the iter position but not TextTags starting
to the right.</p>
<p>For TextTags that should be applied per line (like ‘indent’, ‘h’,
‘pre’) some additional logic is used to keep them consistent.
So at the start of the line, we do copy TextTags starting to
the right and not inadvertently copy formatting from the
previous line which ends on the left.</p>
<p>This method is for example used by <a class="reference internal" href="#zim.gui.pageview.TextBuffer.update_editmode" title="zim.gui.pageview.TextBuffer.update_editmode"><code class="xref py py-class docutils literal notranslate"><span class="pre">update_editmode()</span></code></a> to
determine which TextTags should be applied to newly inserted
text at at a specific location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of <a href="#id11"><span class="problematic" id="id12">``</span></a>Gtk.TextTag``s (sorted by priority)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.iter_in_selection">
<code class="sig-name descname">iter_in_selection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.iter_in_selection" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a specific TextIter is within the selection</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if there is a selection and <code class="docutils literal notranslate"><span class="pre">iter</span></code> is within
the range of the selection</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.list_objectanchors">
<code class="sig-name descname">list_objectanchors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.list_objectanchors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.paste_clipboard">
<code class="sig-name descname">paste_clipboard</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">clipboard</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">default_editable</span></em>, <em class="sig-param"><span class="n">text_format</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.paste_clipboard" title="Permalink to this definition">¶</a></dt>
<dd><p>Paste data from a clipboard into the buffer</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clipboard</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">Clipboard</span></code> object</p></li>
<li><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code> for the insert location</p></li>
<li><p><strong>default_editable</strong> – default state of the <a class="reference internal" href="#zim.gui.pageview.TextView" title="zim.gui.pageview.TextView"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextView</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.TextBuffer.pixels_indent">
<code class="sig-name descname">pixels_indent</code><em class="property"> = 30</em><a class="headerlink" href="#zim.gui.pageview.TextBuffer.pixels_indent" title="Permalink to this definition">¶</a></dt>
<dd><p>pixels indent for a single indent level</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.range_has_tag">
<code class="sig-name descname">range_has_tag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tag</span></em>, <em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.range_has_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a certain TextTag appears anywhere in a range</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tag</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextTag</span></code></p></li>
<li><p><strong>start</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p></li>
<li><p><strong>end</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.range_has_tags">
<code class="sig-name descname">range_has_tags</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em>, <em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.range_has_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#zim.gui.pageview.TextBuffer.range_has_tag" title="zim.gui.pageview.TextBuffer.range_has_tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">range_has_tag()</span></code></a> but uses a function to check for
multiple tags. The function gets called for each TextTag in the
range and the method returns as soon as the function returns
<code class="docutils literal notranslate"><span class="pre">True</span></code> for any tag. There are a number of lambda functions
defined in the module to test categories of TextTags.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> – a function that is called as: <code class="docutils literal notranslate"><span class="pre">func(tag)</span></code> for each
TextTag in the range</p></li>
<li><p><strong>start</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p></li>
<li><p><strong>end</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.remove_link">
<code class="sig-name descname">remove_link</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.remove_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes any links between in a range</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p></li>
<li><p><strong>end</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.remove_textstyle_tags">
<code class="sig-name descname">remove_textstyle_tags</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.remove_textstyle_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all format style TexTags from a range</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p></li>
<li><p><strong>end</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.renumber_list">
<code class="sig-name descname">renumber_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.renumber_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Renumber list from this line downward</p>
<p>This method is called when the user just typed a new bullet or
when we suspect the user deleted some line(s) that are part
of a numbered list. Typically there is no need to call this
method directly, but it is exposed for testing.</p>
<p>It implements the following rules:</p>
<ul class="simple">
<li><p>If there is a numered list item above on the same level, number down
from there</p></li>
<li><p>Else if the line itself has a numbered bullet (and thus is top of a
numbered list) number down</p></li>
<li><p>Stop renumbering at the end of the list, or when a non-numeric bullet
is encountered on the same list level</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>line</strong> – line number to start updating</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.renumber_list_after_indent">
<code class="sig-name descname">renumber_list_after_indent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line</span></em>, <em class="sig-param"><span class="n">old_indent</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.renumber_list_after_indent" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#zim.gui.pageview.TextBuffer.renumber_list" title="zim.gui.pageview.TextBuffer.renumber_list"><code class="xref py py-class docutils literal notranslate"><span class="pre">renumber_list()</span></code></a>, but more complex rules because indent
change has different heuristics.</p>
<p>It implements the following rules:</p>
<ul class="simple">
<li><p>If the bullet type is a checkbox, never change it (else information is
lost on the checkbox state)</p></li>
<li><p>Check for bullet style of the item above on the same level, else
the item below on the same level</p></li>
<li><p>If the bullet became part of a numbered list, renumber that list
either from the item above, or copying starting number from below</p></li>
<li><p>If the bullet became part of a bullet or checkbox list, change it to
match the list</p></li>
<li><p>If there are no other bullets on the same level and the bullet was
a numbered bullet, switch bullet style (number vs letter) and reset
the count</p></li>
<li><p>Else keep the bullet as it was</p></li>
</ul>
<p>Also, if the bullet was a numbered bullet, also renumber the
list level where it came from.</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.select_line">
<code class="sig-name descname">select_line</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.select_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects a line</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>line</strong> – line number; if <code class="docutils literal notranslate"><span class="pre">None</span></code> current line will be selected</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> when successful</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.select_lines">
<code class="sig-name descname">select_lines</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">first</span></em>, <em class="sig-param"><span class="n">last</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.select_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Select multiple lines</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>first</strong> – line number first line</p></li>
<li><p><strong>last</strong> – line number last line</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> when successful</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.select_link">
<code class="sig-name descname">select_link</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.select_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects the current link, if any</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>link attributes when succcessful, <code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.select_word">
<code class="sig-name descname">select_word</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.select_word" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects the current word, if any</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> when succcessful</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.set_bullet">
<code class="sig-name descname">set_bullet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line</span></em>, <em class="sig-param"><span class="n">bullet</span></em>, <em class="sig-param"><span class="n">indent</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.set_bullet" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the bullet type for a line</p>
<p>Replaces any bullet that may already be present on the line.
Set bullet <code class="docutils literal notranslate"><span class="pre">None</span></code> to remove any bullet at this line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>line</strong> – the line number</p></li>
<li><p><strong>bullet</strong> – <dl class="simple">
<dt>the bullet type, one of::</dt><dd><p>BULLET
UNCHECKED_BOX
CHECKED_BOX
XCHECKED_BOX
MIGRATED_BOX
TRANSMIGRATED_BOX
NUMBER_BULLET
None</p>
</dd>
</dl>
<p>or a numbered bullet, like <code class="docutils literal notranslate"><span class="pre">&quot;1.&quot;</span></code></p>
</p></li>
<li><p><strong>indent</strong> – optional indent to set after inserting the bullet,
but before renumbering</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.set_indent">
<code class="sig-name descname">set_indent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line</span></em>, <em class="sig-param"><span class="n">level</span></em>, <em class="sig-param"><span class="n">interactive</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.set_indent" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the indenting for a specific line.</p>
<p>May also trigger renumbering for numbered lists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>line</strong> – the line number</p></li>
<li><p><strong>level</strong> – the indenting level as a number, <code class="docutils literal notranslate"><span class="pre">0</span></code> for no
indenting, <code class="docutils literal notranslate"><span class="pre">1</span></code> for the equivalent of 1 tab, etc.</p></li>
<li><p><strong>interactive</strong> – hint if indenting is result of user
interaction, or automatic action</p></li>
</ul>
</dd>
</dl>
<p>If interactive, the line will be forced to end with a newline.
Reason is that if the last line of the buffer is empty and
does not end with a newline, the indenting will not be visible,
giving the impression that it failed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> for success (e.g. indenting a heading is not
allowed, if you try it will fail and return <code class="docutils literal notranslate"><span class="pre">False</span></code> here)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.set_parsetree">
<code class="sig-name descname">set_parsetree</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tree</span></em>, <em class="sig-param"><span class="n">showing_template</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.set_parsetree" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a new <code class="xref py py-class docutils literal notranslate"><span class="pre">ParseTree</span></code> in the buffer</p>
<p>This method replaces any content in the buffer with the new
parser tree.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tree</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">ParseTree</span></code> object</p></li>
<li><p><strong>showing_template</strong> – if <code class="docutils literal notranslate"><span class="pre">True</span></code> the <code class="docutils literal notranslate"><span class="pre">tree</span></code> represents a template
and not actual page content (yet)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.set_textstyles">
<code class="sig-name descname">set_textstyles</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">names</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.set_textstyles" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the current text format style.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>names</strong> – the name of the format style</p>
</dd>
</dl>
<p>This style will be applied to text inserted at the cursor.
Use <code class="docutils literal notranslate"><span class="pre">set_textstyles(None)</span></code> to reset to normal text.</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.smart_remove_tags">
<code class="sig-name descname">smart_remove_tags</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em>, <em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.smart_remove_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>This method removes tags over a range based on a function</p>
<p>So <a class="reference internal" href="#zim.gui.pageview.TextBuffer.range_has_tags" title="zim.gui.pageview.TextBuffer.range_has_tags"><code class="xref py py-class docutils literal notranslate"><span class="pre">range_has_tags()</span></code></a> for a details on such a test function.</p>
<p>Please use this method instead of <code class="docutils literal notranslate"><span class="pre">remove_tag()</span></code> when you
are not sure if specific tags are present in the first place.
Calling <code class="docutils literal notranslate"><span class="pre">remove_tag()</span></code> will emit signals which make the
<a class="reference internal" href="#zim.gui.pageview.UndoStackManager" title="zim.gui.pageview.UndoStackManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">UndoStackManager</span></code></a> assume the tag was there. If this was not
the case the undo stack gets messed up.</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.strip_selection">
<code class="sig-name descname">strip_selection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.strip_selection" title="Permalink to this definition">¶</a></dt>
<dd><p>Shrinks the selection to exclude any whitespace on start and end.
If only white space was selected this function will not change the selection.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> when this function changed the selection.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.TextBuffer.tag_attributes">
<code class="sig-name descname">tag_attributes</code><em class="property"> = {'background': &lt;zim.gui.pageview.AsciiString object&gt;, 'family': &lt;zim.gui.pageview.AsciiString object&gt;, 'font': &lt;zim.gui.pageview.AsciiString object&gt;, 'foreground': &lt;zim.gui.pageview.AsciiString object&gt;, 'indent': &lt;zim.config.dicts.Integer object&gt;, 'linespacing': &lt;zim.config.dicts.Integer object&gt;, 'paragraph-background': &lt;zim.gui.pageview.AsciiString object&gt;, 'rise': &lt;zim.config.dicts.Integer object&gt;, 'scale': &lt;zim.config.dicts.Float object&gt;, 'strikethrough': &lt;zim.config.dicts.Boolean object&gt;, 'style': &lt;zim.gui.pageview.ConfigDefinitionConstant object&gt;, 'underline': &lt;zim.gui.pageview.ConfigDefinitionConstant object&gt;, 'weight': &lt;zim.gui.pageview.ConfigDefinitionConstant object&gt;, 'wrap-mode': &lt;zim.gui.pageview.ConfigDefinitionConstant object&gt;}</em><a class="headerlink" href="#zim.gui.pageview.TextBuffer.tag_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid properties for a style in tag_styles</p>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.TextBuffer.tag_styles">
<code class="sig-name descname">tag_styles</code><em class="property"> = {'bullet-list': {}, 'checked-checkbox': {}, 'code': {'family': 'monospace'}, 'emphasis': {'style': &lt;enum PANGO_STYLE_ITALIC of type Pango.Style&gt;}, 'find-highlight': {'background': 'magenta', 'foreground': 'white'}, 'find-match': {'background': '#38d878', 'foreground': 'white'}, 'h1': {'scale': 1.7490062499999994, 'weight': &lt;enum PANGO_WEIGHT_BOLD of type Pango.Weight&gt;}, 'h2': {'scale': 1.5208749999999998, 'weight': &lt;enum PANGO_WEIGHT_BOLD of type Pango.Weight&gt;}, 'h3': {'scale': 1.3224999999999998, 'weight': &lt;enum PANGO_WEIGHT_BOLD of type Pango.Weight&gt;}, 'h4': {'scale': 1.15, 'weight': &lt;enum PANGO_WEIGHT_ULTRABOLD of type Pango.Weight&gt;}, 'h5': {'scale': 1.15, 'style': &lt;enum PANGO_STYLE_ITALIC of type Pango.Style&gt;, 'weight': &lt;enum PANGO_WEIGHT_BOLD of type Pango.Weight&gt;}, 'h6': {'scale': 1.15, 'weight': &lt;enum PANGO_WEIGHT_BOLD of type Pango.Weight&gt;}, 'indent': {}, 'link': {'foreground': 'blue'}, 'mark': {'background': 'yellow'}, 'migrated-checkbox': {}, 'numbered-list': {}, 'pre': {'family': 'monospace', 'wrap-mode': &lt;enum GTK_WRAP_NONE of type Gtk.WrapMode&gt;}, 'strike': {'foreground': 'grey', 'strikethrough': True}, 'strong': {'weight': &lt;enum PANGO_WEIGHT_BOLD of type Pango.Weight&gt;}, 'sub': {'rise': -3500, 'scale': 0.7}, 'sup': {'rise': 7500, 'scale': 0.7}, 'tag': {'foreground': '#ce5c00'}, 'transmigrated-checkbox': {}, 'unchecked-checkbox': {}, 'xchecked-checkbox': {}}</em><a class="headerlink" href="#zim.gui.pageview.TextBuffer.tag_styles" title="Permalink to this definition">¶</a></dt>
<dd><p>text styles supported by the editor</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.tmp_cursor">
<code class="sig-name descname">tmp_cursor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gravity</span><span class="o">=</span><span class="default_value">'left'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.tmp_cursor" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a <a class="reference internal" href="#zim.gui.pageview.SaveCursorContext" title="zim.gui.pageview.SaveCursorContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">SaveCursorContext</span></code></a> object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code> for the new (temporary) cursor
position</p></li>
<li><p><strong>gravity</strong> – give mark left or right “gravity” compared to new
inserted text, default is “left” which means new text goes after the
cursor position</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.toggle_checkbox">
<code class="sig-name descname">toggle_checkbox</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line</span></em>, <em class="sig-param"><span class="n">checkbox_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">recursive</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.toggle_checkbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggles the state of the checkbox at a specific line, if any</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>line</strong> – the line number</p></li>
<li><p><strong>checkbox_type</strong> – the checkbox type that we want to toggle:
one of <code class="docutils literal notranslate"><span class="pre">CHECKED_BOX</span></code>, <code class="docutils literal notranslate"><span class="pre">XCHECKED_BOX</span></code>, <code class="docutils literal notranslate"><span class="pre">MIGRATED_BOX</span></code>.
If <code class="docutils literal notranslate"><span class="pre">checkbox_type</span></code> is given, it toggles between this type and
unchecked. Otherwise it rotates through unchecked, checked
and xchecked.
As a special case when the <code class="docutils literal notranslate"><span class="pre">checkbox_type</span></code> ir <code class="docutils literal notranslate"><span class="pre">UNCHECKED_BOX</span></code>
the box is always unchecked.</p></li>
<li><p><strong>recursive</strong> – When <code class="docutils literal notranslate"><span class="pre">True</span></code> any child items in the list will
also be upadted accordingly (see <a class="reference internal" href="#zim.gui.pageview.TextBufferList.set_bullet" title="zim.gui.pageview.TextBufferList.set_bullet"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextBufferList.set_bullet()</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> for success, <code class="docutils literal notranslate"><span class="pre">False</span></code> if no checkbox was found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.toggle_checkbox_for_cursor_or_selection">
<code class="sig-name descname">toggle_checkbox_for_cursor_or_selection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">checkbox_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">recursive</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.toggle_checkbox_for_cursor_or_selection" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#zim.gui.pageview.TextBuffer.toggle_checkbox" title="zim.gui.pageview.TextBuffer.toggle_checkbox"><code class="xref py py-class docutils literal notranslate"><span class="pre">toggle_checkbox()</span></code></a> but applies to current line or
current selection. Intended for interactive use.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>checkbox_type</strong> – the checkbox type that we want to toggle</p></li>
<li><p><strong>recursive</strong> – When <code class="docutils literal notranslate"><span class="pre">True</span></code> any child items in the list will
also be upadted accordingly (see <a class="reference internal" href="#zim.gui.pageview.TextBufferList.set_bullet" title="zim.gui.pageview.TextBufferList.set_bullet"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextBufferList.set_bullet()</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.toggle_textstyle">
<code class="sig-name descname">toggle_textstyle</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.toggle_textstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle the current textstyle</p>
<p>If there is a selection toggle the text style of the selection,
otherwise toggle the text style for newly inserted text.</p>
<p>This method is mainly to change the behavior for
interactive editing. E.g. it is called indirectly when the
user clicks one of the formatting buttons in the EditBar.</p>
<p>For selections we remove the format if the whole range has the
format already. If some part of the range does not have the
format we apply the format to the whole tange. This makes the
behavior of the format buttons consistent if a single tag
applies to any range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the format style name</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.unindent">
<code class="sig-name descname">unindent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line</span></em>, <em class="sig-param"><span class="n">interactive</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.unindent" title="Permalink to this definition">¶</a></dt>
<dd><p>Decrease the indent level for a given line</p>
<p>Can be used as function for <a class="reference internal" href="#zim.gui.pageview.TextBuffer.foreach_line_in_selection" title="zim.gui.pageview.TextBuffer.foreach_line_in_selection"><code class="xref py py-class docutils literal notranslate"><span class="pre">foreach_line_in_selection()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>line</strong> – the line number</p></li>
<li><p><strong>interactive</strong> – hint if indenting is result of user
interaction, or automatic action</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if successful</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.unset_selection">
<code class="sig-name descname">unset_selection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.unset_selection" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove any selection in the buffer</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.update_editmode">
<code class="sig-name descname">update_editmode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.update_editmode" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the text style and indenting applied to newly indented
text based on the current cursor position</p>
<p>This method is triggered automatically when the cursor is moved,
but there are some cases where you may need to call it manually
to force a consistent state.</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.update_indent_tag">
<code class="sig-name descname">update_indent_tag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line</span></em>, <em class="sig-param"><span class="n">bullet</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.update_indent_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the indent TextTag for a given line</p>
<p>The TextTags used for indenting differ between normal indented
paragraphs and indented items in a bullet list. The reason for
this is that the line wrap behavior of list items should be
slightly different to align wrapped text with the bullet.</p>
<p>This method does not change the indent level for a specific line,
but it makes sure the correct TextTag is applied. Typically
called e.g. after inserting or deleting a bullet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>line</strong> – the line number</p></li>
<li><p><strong>bullet</strong> – the bullet type for this line, or <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBuffer.whole_range_has_tag">
<code class="sig-name descname">whole_range_has_tag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tag</span></em>, <em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBuffer.whole_range_has_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a certain TextTag is applied to the whole range or
not</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tag</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextTag</span></code></p></li>
<li><p><strong>start</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p></li>
<li><p><strong>end</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.TextBufferList">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">TextBufferList</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">textbuffer</span></em>, <em class="sig-param"><span class="n">firstline</span></em>, <em class="sig-param"><span class="n">lastline</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBufferList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
<p>This class represents a bullet or checkbox list in a <a class="reference internal" href="#zim.gui.pageview.TextBuffer" title="zim.gui.pageview.TextBuffer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextBuffer</span></code></a>.
It is used to perform recursive actions on the list.</p>
<p>While the <a class="reference internal" href="#zim.gui.pageview.TextBuffer" title="zim.gui.pageview.TextBuffer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextBuffer</span></code></a> just treats list items as lines that start
with a bullet, the TextBufferList maps to a number of lines that
together form a list. It uses “row ids” to refer to specific
items within this range.</p>
<p>TextBufferList objects will become invalid after any modification
to the buffer that changes the line count within the list. Using
them after such modification will result in errors.</p>
<dl class="py attribute">
<dt id="zim.gui.pageview.TextBufferList.BULLET_COL">
<code class="sig-name descname">BULLET_COL</code><em class="property"> = 2</em><a class="headerlink" href="#zim.gui.pageview.TextBufferList.BULLET_COL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.TextBufferList.INDENT_COL">
<code class="sig-name descname">INDENT_COL</code><em class="property"> = 1</em><a class="headerlink" href="#zim.gui.pageview.TextBufferList.INDENT_COL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.TextBufferList.LINE_COL">
<code class="sig-name descname">LINE_COL</code><em class="property"> = 0</em><a class="headerlink" href="#zim.gui.pageview.TextBufferList.LINE_COL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBufferList.can_indent">
<code class="sig-name descname">can_indent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">row</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBufferList.can_indent" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a specific item in the list can be indented</p>
<p>List items can only be indented if they are on top of the list
or when there is some node above them to serve as new parent node.
This avoids indenting two levels below the parent.</p>
<p>So e.g. in the case of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">item</span> <span class="n">a</span>
<span class="o">*</span> <span class="n">item</span> <span class="n">b</span>
</pre></div>
</div>
<p>then “item b” can indent and become a child of “item a”.
However after indenting once:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">item</span> <span class="n">a</span>
    <span class="o">*</span> <span class="n">item</span> <span class="n">b</span>
</pre></div>
</div>
<p>now “item b” can not be indented further because it is already
one level below “item a”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>row</strong> – the row id</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> when indenting is possible</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBufferList.can_unindent">
<code class="sig-name descname">can_unindent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">row</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBufferList.can_unindent" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a specific item in the list has indenting which
can be reduced</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>row</strong> – the row id</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> when the item has indenting</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBufferList.get_row_at_line">
<code class="sig-name descname">get_row_at_line</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBufferList.get_row_at_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the row in the list for a specific line</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>line</strong> – the line number for a line in the <a class="reference internal" href="#zim.gui.pageview.TextBuffer" title="zim.gui.pageview.TextBuffer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextBuffer</span></code></a></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the row id for a row in the list or <code class="docutils literal notranslate"><span class="pre">None</span></code> when
the line was outside of the list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBufferList.indent">
<code class="sig-name descname">indent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">row</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBufferList.indent" title="Permalink to this definition">¶</a></dt>
<dd><p>Indent a list item and all it’s children</p>
<p>For example, when indenting “item b” in this list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">item</span> <span class="n">a</span>
<span class="o">*</span> <span class="n">item</span> <span class="n">b</span>
    <span class="o">*</span> <span class="n">item</span> <span class="n">C</span>
</pre></div>
</div>
<p>it will result in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">item</span> <span class="n">a</span>
    <span class="o">*</span> <span class="n">item</span> <span class="n">b</span>
        <span class="o">*</span> <span class="n">item</span> <span class="n">C</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>row</strong> – the row id</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if successfulll</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBufferList.new_from_line">
<em class="property">classmethod </em><code class="sig-name descname">new_from_line</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">textbuffer</span></em>, <em class="sig-param"><span class="n">line</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBufferList.new_from_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor for a new TextBufferList mapping the list at a
specific line in the buffer</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>textbuffer</strong> – a <a class="reference internal" href="#zim.gui.pageview.TextBuffer" title="zim.gui.pageview.TextBuffer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextBuffer</span></code></a> object</p></li>
<li><p><strong>line</strong> – a line number</p></li>
</ul>
</dd>
</dl>
<p>This line should be part of a list, the TextBufferList object
that is returned maps the full list, so it possibly extends
above and below <code class="docutils literal notranslate"><span class="pre">line</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a 2-tuple of a row id and a the new TextBufferList
object, or <code class="docutils literal notranslate"><span class="pre">(None,</span> <span class="pre">None)</span></code> if <code class="docutils literal notranslate"><span class="pre">line</span></code> is not part of a list.
The row id points to <code class="docutils literal notranslate"><span class="pre">line</span></code> in the list.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBufferList.set_bullet">
<code class="sig-name descname">set_bullet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">row</span></em>, <em class="sig-param"><span class="n">bullet</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBufferList.set_bullet" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the bullet type for a specific item and update parents
and children accordingly</p>
<p>Used to (un-)check the checkboxes and synchronize child
nodes and parent nodes. When a box is checked, any open child
nodes are checked. Also when this is the last checkbox on the
given level to be checked, the parent box can be checked as
well. When a box is un-checked, also the parent checkbox is
un-checked. Both updating of children and parents is recursive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>row</strong> – the row id</p></li>
<li><p><strong>bullet</strong> – the bullet type, which can be one of::
BULLET
CHECKED_BOX
UNCHECKED_BOX
XCHECKED_BOX
MIGRATED_BOX</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextBufferList.unindent">
<code class="sig-name descname">unindent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">row</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextBufferList.unindent" title="Permalink to this definition">¶</a></dt>
<dd><p>Un-indent a list item and it’s children</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>row</strong> – the row id</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if successfulll</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.TextFinder">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">TextFinder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">textbuffer</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextFinder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class handles finding text in the <a class="reference internal" href="#zim.gui.pageview.TextBuffer" title="zim.gui.pageview.TextBuffer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextBuffer</span></code></a></p>
<p>Typically you should get an instance of this class from the
<code class="xref py py-class docutils literal notranslate"><span class="pre">TextBuffer.finder</span></code> attribute.</p>
<dl class="py method">
<dt id="zim.gui.pageview.TextFinder.find">
<code class="sig-name descname">find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">string</span></em>, <em class="sig-param"><span class="n">flags</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextFinder.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find and select the next occurrence of a given string</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string</strong> – the text (or regex) to find</p></li>
<li><p><strong>flags</strong> – options, a combination of:
- <code class="docutils literal notranslate"><span class="pre">FIND_CASE_SENSITIVE</span></code>: check case of matches
- <code class="docutils literal notranslate"><span class="pre">FIND_WHOLE_WORD</span></code>: only match whole words
- <code class="docutils literal notranslate"><span class="pre">FIND_REGEX</span></code>: input is a regular expression</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if a match was found</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextFinder.find_next">
<code class="sig-name descname">find_next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextFinder.find_next" title="Permalink to this definition">¶</a></dt>
<dd><p>Skip to the next match and select it</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if a match was found</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextFinder.find_previous">
<code class="sig-name descname">find_previous</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextFinder.find_previous" title="Permalink to this definition">¶</a></dt>
<dd><p>Go back to the previous match and select it</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if a match was found</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextFinder.get_state">
<code class="sig-name descname">get_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextFinder.get_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the query and any options. Used to copy the current state
of find, can be restored later using <a class="reference internal" href="#zim.gui.pageview.TextFinder.set_state" title="zim.gui.pageview.TextFinder.set_state"><code class="xref py py-class docutils literal notranslate"><span class="pre">set_state()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a 3-tuple of the search string, the option flags, and
the highlight state</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextFinder.replace">
<code class="sig-name descname">replace</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">string</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextFinder.replace" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace current match</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>string</strong> – the replacement string</p>
</dd>
</dl>
<p>In case of a regex find and replace the string will be expanded
with terms from the regex.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> is successful</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextFinder.replace_all">
<code class="sig-name descname">replace_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">string</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextFinder.replace_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace all matched</p>
<p>Like <a class="reference internal" href="#zim.gui.pageview.TextFinder.replace" title="zim.gui.pageview.TextFinder.replace"><code class="xref py py-class docutils literal notranslate"><span class="pre">replace()</span></code></a> but replaces all matches in the buffer</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>string</strong> – the replacement string</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> is successful</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextFinder.select_match">
<code class="sig-name descname">select_match</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextFinder.select_match" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextFinder.set_highlight">
<code class="sig-name descname">set_highlight</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">highlight</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextFinder.set_highlight" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle highlighting of matches in the <a class="reference internal" href="#zim.gui.pageview.TextBuffer" title="zim.gui.pageview.TextBuffer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextBuffer</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>highlight</strong> – <code class="docutils literal notranslate"><span class="pre">True</span></code> to enable highlighting, <code class="docutils literal notranslate"><span class="pre">False</span></code> to
disable</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextFinder.set_match">
<code class="sig-name descname">set_match</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextFinder.set_match" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextFinder.set_state">
<code class="sig-name descname">set_state</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">string</span></em>, <em class="sig-param"><span class="n">flags</span></em>, <em class="sig-param"><span class="n">highlight</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextFinder.set_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the query and any options. Can be used to restore the
state of a find action without triggering a find immediatly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string</strong> – the text (or regex) to find</p></li>
<li><p><strong>flags</strong> – a combination of <code class="docutils literal notranslate"><span class="pre">FIND_CASE_SENSITIVE</span></code>,
<code class="docutils literal notranslate"><span class="pre">FIND_WHOLE_WORD</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">FIND_REGEX</span></code></p></li>
<li><p><strong>highlight</strong> – highlight state <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextFinder.unset_match">
<code class="sig-name descname">unset_match</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextFinder.unset_match" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.TextView">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">TextView</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">preferences</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">gi.repository.Gtk.TextView</span></code></p>
<p>Widget to display a <a class="reference internal" href="#zim.gui.pageview.TextBuffer" title="zim.gui.pageview.TextBuffer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextBuffer</span></code></a> with page content. Implements
zim specific behavior like additional key bindings, on-mouse-over
signals for links, and the custom popup menu.</p>
<dl class="field-list">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><p><a class="reference internal" href="zim.config.html#zim.config.manager.ConfigManagerClass.preferences" title="zim.config.manager.ConfigManagerClass.preferences"><strong>preferences</strong></a> – dict with preferences</p>
</dd>
<dt class="field-even">Signal</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">link-clicked</span> <span class="pre">(link)</span></code>: Emitted when the user clicks a link</p>
</dd>
<dt class="field-odd">Signal</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">link-enter</span> <span class="pre">(link)</span></code>: Emitted when the mouse pointer enters a link</p>
</dd>
<dt class="field-even">Signal</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">link-leave</span> <span class="pre">(link)</span></code>: Emitted when the mouse pointer leaves a link</p>
</dd>
<dt class="field-odd">Signal</dt>
<dd class="field-odd"><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">end-of-word</span> <span class="pre">(start,</span> <span class="pre">end,</span> <span class="pre">word,</span> <span class="pre">char,</span> <span class="pre">editmode)</span></code>:</dt><dd><p>Emitted when the user typed a character like space that ends a word</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">start</span></code>: a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code> for the start of the word</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">end</span></code>: a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code> for the end of the word</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">word</span></code>: the word as string</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">char</span></code>: the character that caused the signal (a space, tab, etc.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">editmode</span></code>: a list of constants for the formatting being in effect,
e.g. <code class="docutils literal notranslate"><span class="pre">VERBATIM</span></code></p></li>
</ul>
</dd>
</dl>
<p>Plugins that want to add auto-formatting logic can connect to this
signal. If the handler matches the word it should stop the signal
with <code class="docutils literal notranslate"><span class="pre">stop_emission()</span></code> to prevent other hooks from formatting the
same word.</p>
<dl class="field-list simple">
<dt class="field-odd">Signal</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">end-of-line</span> <span class="pre">(end)</span></code>: Emitted when the user typed a newline</p>
</dd>
</dl>
<dl class="py method">
<dt id="zim.gui.pageview.TextView.click_anchor">
<code class="sig-name descname">click_anchor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.click_anchor" title="Permalink to this definition">¶</a></dt>
<dd><p>Show popover for anchor under the cursor</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.click_checkbox">
<code class="sig-name descname">click_checkbox</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">checkbox_type</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.click_checkbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle the checkbox under the mouse pointer, if any</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>checkbox_type</strong> – the checkbox type to toggle between, see
<a class="reference internal" href="#zim.gui.pageview.TextBuffer.toggle_checkbox" title="zim.gui.pageview.TextBuffer.toggle_checkbox"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextBuffer.toggle_checkbox()</span></code></a> for details.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> for success, <code class="docutils literal notranslate"><span class="pre">False</span></code> if no checkbox was found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.click_link">
<code class="sig-name descname">click_link</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.click_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Activate the link under the mouse pointer, if any</p>
<dl class="field-list simple">
<dt class="field-odd">Emits</dt>
<dd class="field-odd"><p>link-clicked</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> when there was indeed a link</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.click_link_at_iter">
<code class="sig-name descname">click_link_at_iter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.click_link_at_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Activate the link at <code class="docutils literal notranslate"><span class="pre">iter</span></code>, if any</p>
<p>Like <a class="reference internal" href="#zim.gui.pageview.TextView.click_link" title="zim.gui.pageview.TextView.click_link"><code class="xref py py-class docutils literal notranslate"><span class="pre">click_link()</span></code></a> but activates a link at a specific text
iter location</p>
<dl class="field-list simple">
<dt class="field-odd">Emits</dt>
<dd class="field-odd"><p>link-clicked</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> when there was indeed a link</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.do_button_press_event">
<code class="sig-name descname">do_button_press_event</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.do_button_press_event" title="Permalink to this definition">¶</a></dt>
<dd><p>button_press_event(self, event:Gdk.EventButton) -&gt; bool</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.do_button_release_event">
<code class="sig-name descname">do_button_release_event</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.do_button_release_event" title="Permalink to this definition">¶</a></dt>
<dd><p>button_release_event(self, event:Gdk.EventButton) -&gt; bool</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.do_copy_clipboard">
<code class="sig-name descname">do_copy_clipboard</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">format</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.do_copy_clipboard" title="Permalink to this definition">¶</a></dt>
<dd><p>copy_clipboard(self)</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.do_cut_clipboard">
<code class="sig-name descname">do_cut_clipboard</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.do_cut_clipboard" title="Permalink to this definition">¶</a></dt>
<dd><p>cut_clipboard(self)</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.do_end_of_line">
<code class="sig-name descname">do_end_of_line</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">end</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.do_end_of_line" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.do_end_of_word">
<code class="sig-name descname">do_end_of_word</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em>, <em class="sig-param"><span class="n">word</span></em>, <em class="sig-param"><span class="n">char</span></em>, <em class="sig-param"><span class="n">editmode</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.do_end_of_word" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.do_key_press_event">
<code class="sig-name descname">do_key_press_event</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.do_key_press_event" title="Permalink to this definition">¶</a></dt>
<dd><p>key_press_event(self, event:Gdk.EventKey) -&gt; bool</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.do_move_cursor">
<code class="sig-name descname">do_move_cursor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">step_size</span></em>, <em class="sig-param"><span class="n">count</span></em>, <em class="sig-param"><span class="n">extend_selection</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.do_move_cursor" title="Permalink to this definition">¶</a></dt>
<dd><p>move_cursor(self, step:Gtk.MovementStep, count:int, extend_selection:bool)</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.do_paste_clipboard">
<code class="sig-name descname">do_paste_clipboard</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">format</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.do_paste_clipboard" title="Permalink to this definition">¶</a></dt>
<dd><p>paste_clipboard(self)</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.do_popup_menu">
<code class="sig-name descname">do_popup_menu</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.do_popup_menu" title="Permalink to this definition">¶</a></dt>
<dd><p>popup_menu(self) -&gt; bool</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.do_visibility_notify_event">
<code class="sig-name descname">do_visibility_notify_event</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.do_visibility_notify_event" title="Permalink to this definition">¶</a></dt>
<dd><p>visibility_notify_event(self, event:Gdk.EventVisibility) -&gt; bool</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.get_popup">
<code class="sig-name descname">get_popup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.get_popup" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the popup menu - intended for testing</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.get_visual_home_positions">
<code class="sig-name descname">get_visual_home_positions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.get_visual_home_positions" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the TextIters for the visuale start of the line</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter</strong> – a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a 2-tuple with two <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p>
</dd>
</dl>
<p>The first iter is the start of the visual line - which can be
the start of the line as the buffer sees it (which is also called
the paragraph start in the view) or the iter at the place where
the line is wrapped. The second iter is the start of the line
after skipping any bullets and whitespace. For a wrapped line
the second iter will be the same as the first.</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.on_insert_object">
<code class="sig-name descname">on_insert_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buffer</span></em>, <em class="sig-param"><span class="n">anchor</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.on_insert_object" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.on_motion_notify_event">
<code class="sig-name descname">on_motion_notify_event</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.on_motion_notify_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.on_query_tooltip">
<code class="sig-name descname">on_query_tooltip</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">widget</span></em>, <em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">keyboard_tip</span></em>, <em class="sig-param"><span class="n">tooltip</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.on_query_tooltip" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.on_size_allocate">
<code class="sig-name descname">on_size_allocate</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">a</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.on_size_allocate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.set_buffer">
<code class="sig-name descname">set_buffer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">buffer</span><span class="p">:</span> <span class="n">Gtk.TextBuffer</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.set_buffer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.test_key_press_event">
<code class="sig-name descname">test_key_press_event</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keyval</span></em>, <em class="sig-param"><span class="n">event_state</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.test_key_press_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.TextView.update_cursor">
<code class="sig-name descname">update_cursor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">coords</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.TextView.update_cursor" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the mouse cursor type</p>
<p>E.g. set a “hand” cursor when hovering over a link.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>coords</strong> – a tuple with <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y)</span></code> position in buffer coords.
Only give this argument if coords are known from an event,
otherwise the current cursor position is used.</p>
</dd>
<dt class="field-even">Emits</dt>
<dd class="field-even"><p>link-enter</p>
</dd>
<dt class="field-odd">Emits</dt>
<dd class="field-odd"><p>link-leave</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.UndoActionGroup">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">UndoActionGroup</code><a class="headerlink" href="#zim.gui.pageview.UndoActionGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
<p>Group of actions that should un-done or re-done in a single step</p>
<p>Inherits from <code class="docutils literal notranslate"><span class="pre">list</span></code>, so can be treates as a list of actions.
See <a class="reference internal" href="#zim.gui.pageview.UndoStackManager" title="zim.gui.pageview.UndoStackManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">UndoStackManager</span></code></a> for more details on undo actions.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#zim.gui.pageview.UndoActionGroup.can_merge" title="zim.gui.pageview.UndoActionGroup.can_merge"><strong>can_merge</strong></a> – <code class="docutils literal notranslate"><span class="pre">True</span></code> when this group can be merged with another
group</p></li>
<li><p><a class="reference internal" href="#zim.gui.pageview.UndoActionGroup.cursor" title="zim.gui.pageview.UndoActionGroup.cursor"><strong>cursor</strong></a> – the position to restore the cursor afre un-/re-doning</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="zim.gui.pageview.UndoActionGroup.can_merge">
<code class="sig-name descname">can_merge</code><a class="headerlink" href="#zim.gui.pageview.UndoActionGroup.can_merge" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.UndoActionGroup.cursor">
<code class="sig-name descname">cursor</code><a class="headerlink" href="#zim.gui.pageview.UndoActionGroup.cursor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.UndoActionGroup.reversed">
<code class="sig-name descname">reversed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.UndoActionGroup.reversed" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new UndoActionGroup with the reverse actions of
this group.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.UndoStackManager">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">UndoStackManager</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">textbuffer</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.UndoStackManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Undo stack implementation for <a class="reference internal" href="#zim.gui.pageview.TextBuffer" title="zim.gui.pageview.TextBuffer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextBuffer</span></code></a>. It records any
changes to the buffer and allows undoing and redoing edits.</p>
<p>The stack undostack will be folded when you undo a few steps and
then start editing again. This means that even the ‘undo’ action
is recorded in the undo stakc and can always be undone itself;
so no data is discarded.</p>
<p>Say you start with a certain buffer state “A”, then make two edits
(“B” and “C”) and then undo the last one, so you get back in state
“B”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">State</span> <span class="n">A</span> <span class="o">--&gt;</span> <span class="n">State</span> <span class="n">B</span> <span class="o">--&gt;</span> <span class="n">State</span> <span class="n">C</span>
                    <span class="o">&lt;--</span>
                    <span class="n">undo</span>
</pre></div>
</div>
<p>when you now make a new edit (“D”), state “C” is not discarded, instead
it is “folded” as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">State</span> <span class="n">A</span> <span class="o">--&gt;</span> <span class="n">State</span> <span class="n">B</span> <span class="o">--&gt;</span> <span class="n">State</span> <span class="n">C</span> <span class="o">--&gt;</span> <span class="n">State</span> <span class="n">B</span> <span class="o">--&gt;</span> <span class="n">State</span> <span class="n">D</span>
</pre></div>
</div>
<p>so you can still go back to state “C” using Undo.</p>
<dl class="simple">
<dt>Each action is recorded as a 4-tuple of:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">action_type</span></code>: one of <code class="docutils literal notranslate"><span class="pre">ACTION_INSERT</span></code>, <code class="docutils literal notranslate"><span class="pre">ACTION_DELETE</span></code>,
<code class="docutils literal notranslate"><span class="pre">ACTION_APPLY_TAG</span></code>, <code class="docutils literal notranslate"><span class="pre">ACTION_REMOVE_TAG</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">start_iter</span></code>: a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">end_iter</span></code>: a <code class="docutils literal notranslate"><span class="pre">Gtk.TextIter</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code>: either a (raw) <code class="xref py py-class docutils literal notranslate"><span class="pre">ParseTree</span></code> or a <code class="docutils literal notranslate"><span class="pre">Gtk.TextTag</span></code></p></li>
</ul>
</dd>
</dl>
<p>These actions are low level operations, so they are</p>
<p>Actions are collected as :class:<a href="#id13"><span class="problematic" id="id14">`</span></a>UndoActionGroup`s. When the user selects
Undo or Redo we actually undo or redo a whole UndoActionGroup as a
single step. E.g. inserting a link will consist of inserting the
text and than applying the TextTag with the link data. These are
technically two separate modifications of the TextBuffer, however
when selecting Undo both are undone at once because they are
combined in a single group.</p>
<p>Typically when recording modifications the action groups are
delimited by the begin-user-action and end-user-action signals of
the <a class="reference internal" href="#zim.gui.pageview.TextBuffer" title="zim.gui.pageview.TextBuffer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextBuffer</span></code></a>. (This is why we use the <code class="xref py py-class docutils literal notranslate"><span class="pre">TextBuffer.user_action</span></code>
attribute context manager in the TextBuffer code.)</p>
<p>Also we try to group single-character inserts and deletes into words.
This makes the stack more compact and makes the undo action more
meaningful.</p>
<dl class="py attribute">
<dt id="zim.gui.pageview.UndoStackManager.ACTION_APPLY_TAG">
<code class="sig-name descname">ACTION_APPLY_TAG</code><em class="property"> = 2</em><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.ACTION_APPLY_TAG" title="Permalink to this definition">¶</a></dt>
<dd><p>action type for applying a <code class="docutils literal notranslate"><span class="pre">Gtk.TextTag</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.UndoStackManager.ACTION_DELETE">
<code class="sig-name descname">ACTION_DELETE</code><em class="property"> = -1</em><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.ACTION_DELETE" title="Permalink to this definition">¶</a></dt>
<dd><p>action type for deleting text</p>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.UndoStackManager.ACTION_INSERT">
<code class="sig-name descname">ACTION_INSERT</code><em class="property"> = 1</em><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.ACTION_INSERT" title="Permalink to this definition">¶</a></dt>
<dd><p>action type for inserting text</p>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.UndoStackManager.ACTION_REMOVE_TAG">
<code class="sig-name descname">ACTION_REMOVE_TAG</code><em class="property"> = -2</em><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.ACTION_REMOVE_TAG" title="Permalink to this definition">¶</a></dt>
<dd><p>action type for removing a <code class="docutils literal notranslate"><span class="pre">Gtk.TextTag</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt id="zim.gui.pageview.UndoStackManager.MAX_UNDO">
<code class="sig-name descname">MAX_UNDO</code><em class="property"> = 100</em><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.MAX_UNDO" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant for the max number of undo steps to be remembered</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.UndoStackManager.block">
<code class="sig-name descname">block</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.block" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop listening to events from the <a class="reference internal" href="#zim.gui.pageview.TextBuffer" title="zim.gui.pageview.TextBuffer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextBuffer</span></code></a> until
the next call to <a class="reference internal" href="#zim.gui.pageview.UndoStackManager.unblock" title="zim.gui.pageview.UndoStackManager.unblock"><code class="xref py py-class docutils literal notranslate"><span class="pre">unblock()</span></code></a>. Any change in between will not
be undo-able (and mess up the undo stack) unless it is recorded
explicitly.</p>
<p>The number of calls <code class="docutils literal notranslate"><span class="pre">block()</span></code> and <code class="docutils literal notranslate"><span class="pre">unblock()</span></code> is counted, so
they can be called recursively.</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.UndoStackManager.do_begin_insert_tree">
<code class="sig-name descname">do_begin_insert_tree</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buffer</span></em>, <em class="sig-param"><span class="n">interactive</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.do_begin_insert_tree" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.UndoStackManager.do_begin_user_action">
<code class="sig-name descname">do_begin_user_action</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buffer</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.do_begin_user_action" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.UndoStackManager.do_change_tag">
<code class="sig-name descname">do_change_tag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buffer</span></em>, <em class="sig-param"><span class="n">tag</span></em>, <em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em>, <em class="sig-param"><span class="n">action</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.do_change_tag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.UndoStackManager.do_delete_range">
<code class="sig-name descname">do_delete_range</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buffer</span></em>, <em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.do_delete_range" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.UndoStackManager.do_end_insert_tree">
<code class="sig-name descname">do_end_insert_tree</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buffer</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.do_end_insert_tree" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.UndoStackManager.do_end_user_action">
<code class="sig-name descname">do_end_user_action</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buffer</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.do_end_user_action" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.UndoStackManager.do_insert_pixbuf">
<code class="sig-name descname">do_insert_pixbuf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buffer</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">pixbuf</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.do_insert_pixbuf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.UndoStackManager.do_insert_text">
<code class="sig-name descname">do_insert_text</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buffer</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">length</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.do_insert_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.UndoStackManager.do_save_cursor">
<code class="sig-name descname">do_save_cursor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buffer</span></em>, <em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.do_save_cursor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.UndoStackManager.flush_insert">
<code class="sig-name descname">flush_insert</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.flush_insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush all pending actions and store them on the stack</p>
<p>The reason for this method is that because of the possibility of
merging actions we do not immediatly request the parse tree for
each single character insert. Instead we first group inserts
based on cursor positions and then request the parse tree for
the group at once. This method proceses all such delayed
requests.</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.UndoStackManager.flush_redo_stack">
<code class="sig-name descname">flush_redo_stack</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.flush_redo_stack" title="Permalink to this definition">¶</a></dt>
<dd><p>Fold the “redo” part of the stack, called before new actions
are appended after some step was undone.</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.UndoStackManager.redo">
<code class="sig-name descname">redo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.redo" title="Permalink to this definition">¶</a></dt>
<dd><p>Redo one user action</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.UndoStackManager.unblock">
<code class="sig-name descname">unblock</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.unblock" title="Permalink to this definition">¶</a></dt>
<dd><p>Start listening to events from the <a class="reference internal" href="#zim.gui.pageview.TextBuffer" title="zim.gui.pageview.TextBuffer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextBuffer</span></code></a> again</p>
</dd></dl>

<dl class="py method">
<dt id="zim.gui.pageview.UndoStackManager.undo">
<code class="sig-name descname">undo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.UndoStackManager.undo" title="Permalink to this definition">¶</a></dt>
<dd><p>Undo one user action</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.UserActionContext">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">UserActionContext</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buffer</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.UserActionContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Context manager to wrap actions in proper user-action signals</p>
<p>This class used for the <code class="xref py py-class docutils literal notranslate"><span class="pre">TextBuffer.user_action</span></code> attribute</p>
<p>This allows syntax like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">buffer</span><span class="o">.</span><span class="n">user_action</span><span class="p">:</span>
        <span class="n">buffer</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>instead off:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">buffer</span><span class="o">.</span><span class="n">begin_user_action</span><span class="p">()</span>
<span class="n">buffer</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">buffer</span><span class="o">.</span><span class="n">end_user_action</span><span class="p">()</span>
</pre></div>
</div>
<p>By wrapping actions in this “user-action” block the
<a class="reference internal" href="#zim.gui.pageview.UndoStackManager" title="zim.gui.pageview.UndoStackManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">UndoStackManager</span></code></a> will see it as a single action and make it
undo-able in a single step.</p>
</dd></dl>

<dl class="py class">
<dt id="zim.gui.pageview.WordCountDialog">
<em class="property">class </em><code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">WordCountDialog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pageview</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.WordCountDialog" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zim.gui.html#zim.gui.widgets.Dialog" title="zim.gui.widgets.Dialog"><code class="xref py py-class docutils literal notranslate"><span class="pre">zim.gui.widgets.Dialog</span></code></a></p>
<p>Dialog showing line, word, and character counts</p>
</dd></dl>

<dl class="py function">
<dt id="zim.gui.pageview.attach_file">
<code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">attach_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">widget</span></em>, <em class="sig-param"><span class="n">notebook</span></em>, <em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">force_overwrite</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.attach_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="zim.gui.pageview.camelcase">
<code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">camelcase</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">word</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.camelcase" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="zim.gui.pageview.image_file_get_dimensions">
<code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">image_file_get_dimensions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.image_file_get_dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Replacement for GdkPixbuf.Pixbuf.get_file_info</p>
<dl class="simple">
<dt>:return (width, height) in pixels</dt><dd><p>or None if file does not exist or failed to load</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zim.gui.pageview.image_file_load_pixels">
<code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">image_file_load_pixels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">width_override</span><span class="o">=</span><span class="default_value">- 1</span></em>, <em class="sig-param"><span class="n">height_override</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.image_file_load_pixels" title="Permalink to this definition">¶</a></dt>
<dd><p>Replacement for GdkPixbuf.Pixbuf.new_from_file_at_size(file.path, w, h)
When file does not exist or fails to load, this throws exceptions.</p>
</dd></dl>

<dl class="py function">
<dt id="zim.gui.pageview.increase_list_bullet">
<code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">increase_list_bullet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bullet</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.increase_list_bullet" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <code class="xref py py-class docutils literal notranslate"><span class="pre">increase_list_iter()</span></code>, but handles bullet string directly</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bullet</strong> – a numbered list bullet, e.g. <code class="docutils literal notranslate"><span class="pre">&quot;1.&quot;</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the next bullet, e.g. <code class="docutils literal notranslate"><span class="pre">&quot;2.&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zim.gui.pageview.is_line">
<code class="sig-prename descclassname">zim.gui.pageview.</code><code class="sig-name descname">is_line</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zim.gui.pageview.is_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Function used for line autoformatting.</p>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Zim Desktop Wiki</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Jaap Karssenberg and contributors.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.4.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="sources/zim.gui.pageview.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>